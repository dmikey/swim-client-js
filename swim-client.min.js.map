{"version":3,"sources":["swim-client.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","swim","client","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"nop","link","node","lane","handle","Channel","get","unlink","sendEvent","body","sendCommand","put","reset","endpoint","bridge","channel","sendBuffer","unlinkAll","close","linkCount","linkHandles","stateHandles","reconnectTimeout","reconnectTime","closed","open","proto","URI","WS","w3cwebsocket","options","SEND_BUFFER_SIZE","LINK_FAILED","LINK_BROKEN","LINK_WANTED","LINK_ACTIVE","prototype","socket","onopen","onOpen","bind","onclose","onClose","onmessage","onFrame","send","envelope","readyState","OPEN","buffer","stringify","isLinkRequest","isUnlinkRequest","push","clearTimeout","nodeHandles","LinkRequest","unresolve","shift","laneHandles","state","__state__","status","onBroken","setTimeout","Math","min","frame","payload","data","parse","onReceive","onEvent","onCommand","onLinked","onUnlinked","onUnbroken","onFailed","unlinked","undefined","request","index","Function","indexOf","splice","Object","keys","UnlinkRequest","message","EventMessage","CommandMessage","onState","handles","GetRequest","PutRequest","isEventMessage","onMessage","isCommandMessage","isStateResponse","isLinkedResponse","isUnlinkedResponse","resolve","parentLane","components","serialize","path","query","fragment","scheme","userinfo","host","port","charCodeAt","substring","lastIndexOf","swim-proto-js","uri-js","websocket",2,"coerce","arguments","item","Absent","Extant","isAttr","isSlot","builder","RecordBuilder","appendField","coerceItem","coerceArray","isRecord","Uint8Array","Array","isArray","toRecon","coerceObject","array","value","isField","appendValue","object","prop","key","attrs","isAbsent","Attr","Slot","string","input","StringIterator","result","DocumentParser","run","writer","ReconWriter","writeBlock","apply","objectify","isExtant","objectifyArray","objectifyObject","record","items","iterator","isEmpty","head","step","base64","DataBuilder","cs","appendBase64Char","attr","slot","empty","Record","compare","x","y","equals","__proto__","defineProperty","Field","enumerable","RecordIterator","writable","ValueBuilder","StringIteratee","StringBuilder","isSpace","c","isNewline","isWhitespace","isNameStartChar","isNameChar","isBase64Char","BlockParser","AttrParser","ident","IdentParser","BlockValueParser","field","InlineValueParser","RecordParser","MarkupParser","text","StringParser","DataParser","NumberParser","create","constructor","getOwnPropertyNames","isMarkup","isBlank","afterNonText","hasNonText","sections","hasAttrs","hasPrefixAttrs","hasPostfixAttrs","contains","tail","slice","foot","target","these","next","concat","appendRecord","that","forEach","those","toString","writeRecord","writeAttr","writeItem","dup","toRecord","isAllAttrs","isDone","c1","c2","Done","isCont","isError","feed","error","unexpectedEOF","append","String","fromCharCode","appendString","prepare","size","expand","base","max","aliased","set","appendByte","offset","decodeBase64Digit","decodeBase64Quantum","p","q","z","w","subarray","found","expected","Number","writeValue","inMarkup","writeText","writeNumber","writeBool","writeData","writeIdent","writeMarkup","isIdent","writeTextMarkup","writeString","number","bool","encodeBase64Digit","extant","absent",3,"decode","heading","StateResponse","LinkedResponse","UnlinkedResponse","encode","recon","Envelope","RequestEnvelope","ResponseEnvelope","MessageEnvelope","via","headers","header","recon-js",4,"./schemes/http","./schemes/urn",5,"SCHEMES","../uri",6,"URI_NS","pctEncChar","NID$","PCT_ENCODED$","TRANS$$","NSS$","URN_SCHEME","RegExp","URN_PATH","URN_PARSE","URN_EXCLUDED","UUID","schemeHandler","matches","match","tolerant","errors","toLowerCase","replace",7,"mergeSet","sets","nextSet","subexp","str","ALPHA$$","DIGIT$$","HEXDIG$$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET$","IPV4ADDRESS$","H16$","IPV6ADDRESS$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","GENERIC_REF$","RELATIVE_REF$","URI_REF","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","PCT_ENCODEDS","URI_PARSE","RDS1","RDS2","RDS3","RDS5","NO_MATCH_IS_UNDEFINED","chr","toUpperCase","pctDecUnreserved","newStr","parseInt","substr","pctDecChars","c3","typeOf","split","pop","Components","reference","uriString","isNaN","_recomposeAuthority","uriTokens","join","removeDotSegments","output","authority","charAt","resolveComponents","relative","skipNormalization","baseURI","relativeURI","normalize","uri","equal","uriA","uriB","escapeComponent","unescapeComponent","./schemes",8,"W3CWebSocket","protocols","native_instance","nativeWebSocket","_global","WebSocket","MozWebSocket","version","./version",9,"../package.json",10,"name","description","keywords","author","email","url","repository","type","homepage","engines","dependencies","debug","nan","typedarray-to-buffer","devDependencies","buffer-equal","faucet","gulp","gulp-jshint","jshint-stylish","tape","config","verbose","scripts","install","test","main","directories","lib","browser","gitHead","bugs","_id","_shasum","_from","_npmVersion","_nodeVersion","_npmUser","maintainers","dist","shasum","tarball","_resolved","readme"],"mappings":"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","file":"swim-client.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.swim || (g.swim = {})).client = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar proto = require('swim-proto-js');\nvar URI = require('uri-js');\nvar WS = require('websocket').w3cwebsocket;\n\nvar options = {\n  SEND_BUFFER_SIZE: 1024\n};\n\nvar LINK_FAILED = -2;\nvar LINK_BROKEN = -1;\nvar LINK_WANTED = 0;\nvar LINK_ACTIVE = 1;\n\nfunction nop() {}\n\nfunction link(node, lane, handle) {\n  Channel.get(node).link(node, lane, handle);\n}\n\nfunction unlink(node, lane, handle) {\n  Channel.get(node).unlink(node, lane, handle);\n}\n\nfunction sendEvent(node, lane, body) {\n  Channel.get(node).sendEvent(node, lane, body);\n}\n\nfunction sendCommand(node, lane, body) {\n  Channel.get(node).sendCommand(node, lane, body);\n}\n\nfunction get(node, handle) {\n  Channel.get(node).get(node, handle);\n}\n\nfunction put(node, body, handle) {\n  Channel.get(node).put(node, body, handle);\n}\n\nfunction reset() {\n  for (var endpoint in Channel.bridge) {\n    var channel = Channel.bridge[endpoint];\n    channel.sendBuffer = [];\n    channel.unlinkAll();\n    channel.close();\n  }\n  Channel.bridge = {};\n}\n\n\nfunction Channel(node) {\n  Channel.bridge[node] = this;\n  this.node = node;\n  this.linkCount = 0;\n  this.linkHandles = {};\n  this.stateHandles = {};\n  this.sendBuffer = [];\n  this.reconnectTimeout = null;\n  this.reconnectTime = 1000;\n  this.closed = false;\n  this.open();\n}\nChannel.prototype.open = function () {\n  this.socket = new WS(this.node, 'swim-0.0');\n  this.socket.onopen = this.onOpen.bind(this);\n  this.socket.onclose = this.onClose.bind(this);\n  this.socket.onmessage = this.onFrame.bind(this);\n};\nChannel.prototype.close = function () {\n  this.closed = true;\n  this.socket.close();\n};\nChannel.prototype.send = function (envelope) {\n  if (this.socket.readyState !== this.socket.OPEN) this.buffer(envelope);\n  else this.socket.send(proto.stringify(envelope));\n};\nChannel.prototype.buffer = function (envelope) {\n  if (envelope.isLinkRequest || envelope.isUnlinkRequest) return;\n  if (this.sendBuffer.length > options.SEND_BUFFER_SIZE) return; // TODO: Notify\n  this.sendBuffer.push(envelope);\n};\nChannel.prototype.onOpen = function () {\n  clearTimeout(this.reconnectTimeout);\n  this.reconnectTime = 1000;\n\n  var envelope;\n  for (var node in this.linkHandles) {\n    var nodeHandles = this.linkHandles[node];\n    for (var lane in nodeHandles) {\n      envelope = new proto.LinkRequest(this.unresolve(node), lane);\n      this.send(envelope);\n    }\n  }\n\n  while ((envelope = this.sendBuffer.shift())) this.send(envelope);\n};\nChannel.prototype.onClose = function () {\n  if (this.linkCount === 0 && this.sendBuffer.length === 0) {\n    delete Channel.bridge[this.node];\n    return;\n  }\n\n  for (var node in this.linkHandles) {\n    var nodeHandles = this.linkHandles[node];\n    for (var lane in nodeHandles) {\n      var laneHandles = nodeHandles[lane];\n      for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n        var handle = laneHandles[i];\n        var state = handle.__state__;\n        if (state.status === LINK_ACTIVE) {\n          handle.onBroken(node, lane);\n          state.status = LINK_BROKEN;\n        }\n      }\n    }\n  }\n\n  if (!this.closed) {\n    this.reconnectTimeout = setTimeout(this.open.bind(this), this.reconnectTime);\n    this.reconnectTime = Math.min(2 * this.reconnectTime, 30000);\n  }\n};\nChannel.prototype.onFrame = function (frame) {\n  var payload = frame.data;\n  if (typeof payload === 'string') {\n    var envelope = proto.parse(payload);\n    if (envelope) this.onReceive(envelope);\n  }\n};\nChannel.prototype.link = function (node, lane, handle) {\n  if (typeof handle === 'function') handle = {\n    onEvent: handle,\n    onCommand: handle\n  };\n  if (!handle.onEvent) handle.onEvent = nop;\n  if (!handle.onCommand) handle.onCommand = nop;\n  if (!handle.onLinked) handle.onLinked = nop;\n  if (!handle.onUnlinked) handle.onUnlinked = nop;\n  if (!handle.onBroken) handle.onBroken = nop;\n  if (!handle.onUnbroken) handle.onUnbroken = nop;\n  if (!handle.onFailed) handle.onFailed = nop;\n  var state = {\n    status: LINK_WANTED\n  };\n  handle.__state__ = state;\n\n  var unlinked = false;\n  var nodeHandles = this.linkHandles[node];\n  if (nodeHandles === undefined) {\n    nodeHandles = {};\n    this.linkHandles[node] = nodeHandles;\n  }\n  var laneHandles = nodeHandles[lane];\n  if (laneHandles === undefined) {\n    unlinked = true;\n    laneHandles = [];\n    nodeHandles[lane] = laneHandles;\n  }\n  laneHandles.push(handle);\n\n  if (unlinked) {\n    var request = new proto.LinkRequest(this.unresolve(node), lane);\n    this.send(request);\n    this.linkCount += 1;\n  }\n  else if (this.socket.readyState === this.socket.OPEN) {\n    handle.onLinked(node, lane);\n    state.status = LINK_ACTIVE;\n  }\n};\nChannel.prototype.unlink = function (node, lane, handle) {\n  var nodeHandles = this.linkHandles[node];\n  if (nodeHandles === undefined) return;\n  var laneHandles = nodeHandles[lane];\n  if (laneHandles === undefined) return;\n  var index = -1;\n  if (handle instanceof Function) for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n    if (laneHandles[i].onEvent === handle) { index = i; break; }\n  }\n  else index = laneHandles.indexOf(handle);\n  if (index < 0) return;\n  laneHandles.splice(index, 1);\n  if (laneHandles.length === 0) {\n    delete nodeHandles[lane];\n    if (Object.keys(nodeHandles).length === 0) delete this.linkHandles[node];\n\n    var request = new proto.UnlinkRequest(this.unresolve(node), lane);\n    this.send(request);\n    this.linkCount -= 1;\n  }\n};\nChannel.prototype.unlinkAll = function () {\n  for (var node in this.linkHandles) {\n    var nodeHandles = this.linkHandles[node];\n    for (var lane in nodeHandles) {\n      var laneHandles = nodeHandles[lane];\n      for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n        var handle = laneHandles[i];\n        var state = handle.__state__;\n        handle.onFailed(node, lane);\n        state.status = LINK_FAILED;\n      }\n    }\n  }\n  this.linkCount = 0;\n  this.linkHandles = {};\n};\nChannel.prototype.sendEvent = function (node, lane, body) {\n  var message = new proto.EventMessage(this.unresolve(node), lane, undefined, body);\n  this.send(message);\n};\nChannel.prototype.sendCommand = function (node, lane, body) {\n  var message = new proto.CommandMessage(this.unresolve(node), lane, undefined, body);\n  this.send(message);\n};\nChannel.prototype.get = function (node, handle) {\n  if (typeof handle === 'function') handle = {onState: handle};\n\n  var handles = this.stateHandles[node];\n  if (handles === undefined) {\n    handles = [];\n    this.stateHandles[node] = handles;\n  }\n  handles.push(handle);\n\n  var request = new proto.GetRequest(this.unresolve(node));\n  this.send(request);\n};\nChannel.prototype.put = function (node, body, handle) {\n  if (handle === undefined) handle = nop;\n  if (typeof handle === 'function') handle = {onState: handle};\n\n  var handles = this.stateHandles[node];\n  if (handles === undefined) {\n    handles = [];\n    this.stateHandles[node] = handles;\n  }\n  handles.push(handle);\n\n  var request = new proto.PutRequest(this.unresolve(node), body);\n  this.send(request);\n};\nChannel.prototype.onReceive = function (envelope) {\n  if (envelope.isEventMessage) this.onMessage(envelope);\n  else if (envelope.isCommandMessage) this.onMessage(envelope);\n  else if (envelope.isStateResponse) this.onState(envelope);\n  else if (envelope.isLinkedResponse) this.onLinked(envelope);\n  else if (envelope.isUnlinkedResponse) this.onUnlinked(envelope);\n};\nChannel.prototype.onMessage = function (envelope) {\n  var node = URI.resolve(this.node, envelope.node);\n  var nodeHandles = this.linkHandles[node];\n  if (nodeHandles === undefined) return;\n\n  var lane = envelope.lane;\n  while (lane) {\n    var laneHandles = nodeHandles[lane];\n    if (laneHandles) for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n      var handle = laneHandles[i];\n      if (envelope.isEventMessage) handle.onEvent(envelope);\n      else handle.onCommand(envelope);\n    }\n    lane = Channel.parentLane(lane);\n  }\n};\nChannel.prototype.onState = function (envelope) {\n  var node = URI.resolve(this.node, envelope.node);\n  var handles = this.stateHandles[node] || [];\n  var handle;\n  while ((handle = handles.shift())) {\n    handle.onState(envelope);\n  }\n  delete this.stateHandles[node];\n};\nChannel.prototype.onLinked = function (envelope) {\n  var node = URI.resolve(this.node, envelope.node);\n  var lane = envelope.lane;\n  var nodeHandles = this.linkHandles[node];\n  if (nodeHandles === undefined) return;\n  var laneHandles = nodeHandles[lane];\n  if (laneHandles === undefined) return;\n  for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n    var handle = laneHandles[i];\n    var state = handle.__state__;\n    if (state.status === LINK_BROKEN) handle.onUnbroken(node, lane);\n    else handle.onLinked(node, lane);\n    state.status = LINK_ACTIVE;\n  }\n};\nChannel.prototype.onUnlinked = function (envelope) {\n  var node = URI.resolve(this.node, envelope.node);\n  var lane = envelope.lane;\n  var nodeHandles = this.linkHandles[node];\n  if (nodeHandles === undefined) return;\n  var laneHandles = nodeHandles[lane];\n  if (laneHandles === undefined) return;\n  for (var i = 0, n = laneHandles.length; i < n; i += 1) {\n    var handle = laneHandles[i];\n    var state = handle.__state__;\n    if (state.status === LINK_ACTIVE) {\n      handle.onUnlinked(node, lane);\n      state.status = LINK_WANTED;\n    }\n    else {\n      handle.onFailed(node, lane);\n      state.status = LINK_FAILED;\n    }\n  }\n  delete nodeHandles[lane];\n  if (Object.keys(nodeHandles).length === 0) delete this.linkHandles[node];\n  this.linkCount -= 1;\n};\nChannel.prototype.unresolve = function (node) {\n  var components = URI.parse(node);\n  return URI.serialize({\n    path: components.path,\n    query: components.query,\n    fragment: components.fragment\n  });\n};\nChannel.bridge = {};\nChannel.get = function (node) {\n  var endpoint = Channel.endpoint(node);\n  var channel = Channel.bridge[endpoint];\n  if (channel === undefined) channel = new Channel(endpoint);\n  return channel;\n};\nChannel.endpoint = function (node) {\n  var components = URI.parse(node);\n  var scheme = components.scheme;\n  if (scheme === 'swim') scheme = 'http';\n  else if (scheme === 'swims') scheme = 'https';\n  return URI.serialize({\n    scheme: scheme,\n    userinfo: components.userinfo,\n    host: components.host,\n    port: components.port\n  });\n};\nChannel.parentLane = function (lane) {\n  var components = URI.parse(lane);\n  var path = components.path;\n  if (components.query && components.fragment) return URI.serialize({\n    path: path,\n    query: components.query\n  });\n  else if (components.query) return URI.serialize({path: path});\n  else if (path.length > 0) {\n    if (path.charCodeAt(path.length - 1) === 47 /*'/'*/) {\n      path = path.substring(0, path.length - 1);\n      return URI.serialize({path: path});\n    }\n    else {\n      var i = path.lastIndexOf('/');\n      if (i > 0) {\n        path = path.substring(0, i + 1);\n        return URI.serialize({path: path});\n      }\n    }\n  }\n};\n\n\nexports.link = link;\nexports.unlink = unlink;\nexports.sendEvent = sendEvent;\nexports.sendCommand = sendCommand;\nexports.get = get;\nexports.put = put;\nexports.reset = reset;\nexports.options = options;\n\n},{\"swim-proto-js\":3,\"uri-js\":7,\"websocket\":8}],2:[function(require,module,exports){\n'use strict';\n\nfunction coerce() {\n  if (arguments.length === 1) {\n    var item = arguments[0];\n    if (item === undefined) return Absent;\n    else if (item === null) return Extant;\n    else if (item.isAttr || item.isSlot) {\n      var builder = new RecordBuilder();\n      builder.appendField(item);\n      return builder.state();\n    }\n    else return coerceItem(item);\n  }\n  else if (arguments.length > 1) return coerceArray(arguments);\n  else return Absent;\n}\nfunction coerceItem(item) {\n  if (item === null) return Extant;\n  else if (item.isRecord ||\n           item.isAttr ||\n           item.isSlot ||\n           typeof item === 'string' ||\n           typeof item === 'number' ||\n           typeof item === 'boolean' ||\n           item instanceof Uint8Array ||\n           item === Extant ||\n           item === Absent) return item;\n  else if (Array.isArray(item)) return coerceArray(item);\n  else if (typeof item === 'object') {\n    if (item.toRecon && typeof item.toRecon === 'function') return item.toRecon();\n    else return coerceObject(item);\n  }\n  else return Absent;\n}\nfunction coerceArray(array) {\n  var builder = new RecordBuilder();\n  var n = array.length;\n  var i = 0;\n  while (i < n) {\n    var value = coerceItem(array[i]);\n    if (value.isField) builder.appendField(value);\n    else builder.appendValue(value);\n    i += 1;\n  }\n  return builder.state();\n}\nfunction coerceObject(object) {\n  var builder = new RecordBuilder();\n  var prop, key, value;\n  var attrs = object['@'];\n  for (prop in attrs) {\n    key = coerce(prop);\n    if (typeof key === 'string') {\n      value = coerce(attrs[prop]);\n      if (!value.isAbsent) builder.appendField(new Attr(key, value));\n    }\n  }\n  for (prop in object) {\n    if (prop !== '@') {\n      key = coerce(prop);\n      if (!key.isAbsent) {\n        value = coerce(object[prop]);\n        if (!value.isAbsent) builder.appendField(new Slot(key, value));\n      }\n    }\n  }\n  return builder.state();\n}\n\nfunction parse(string) {\n  var input = new StringIterator(string);\n  var result = new DocumentParser().run(input);\n  return result.state();\n}\n\nfunction stringify() {\n  var writer = new ReconWriter();\n  writer.writeBlock(coerce.apply(null, arguments));\n  return writer.state();\n}\n\nfunction objectify(value) {\n  if (value === undefined || value === null || value.isExtant) return null;\n  else if (value.isAbsent) return undefined;\n  else if (value.isRecord) {\n    if (value.isArray()) return objectifyArray(value);\n    else return objectifyObject(value);\n  }\n  else return value;\n}\nfunction objectifyArray(record) {\n  var array = [];\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var value = objectify(items.head());\n    array.push(value);\n    items.step();\n  }\n  return array;\n}\nfunction objectifyObject(record) {\n  var items = record.iterator();\n  var key, value;\n  var object = {};\n  var attrs = null;\n  var i = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (item.isField) {\n      key = objectify(item.key);\n      value = objectify(item.value);\n      if (item.isAttr) {\n        if (attrs === null) attrs = {};\n        attrs[key] = value;\n      }\n      else object[key] = value;\n    }\n    else {\n      value = objectify(item);\n      object[i] = value;\n    }\n    items.step();\n    i += 1;\n  }\n  if (attrs !== null) object['@'] = attrs;\n  return object;\n}\n\nfunction base64(string) {\n  if (string === undefined) return new Uint8Array(0);\n  var data = new DataBuilder();\n  var cs = new StringIterator(string);\n  while (!cs.isEmpty()) {\n    data.appendBase64Char(cs.head());\n    cs.step();\n  }\n  return data.state();\n}\n\nfunction attr(key, value) {\n  if (value === undefined) value = Extant;\n  return new Attr(coerce(key), coerce(value));\n}\n\nfunction slot(key, value) {\n  if (value === undefined) value = Extant;\n  return new Slot(coerce(key), coerce(value));\n}\n\nfunction empty() {\n  return new Record([], {});\n}\n\nfunction builder() {\n  return new RecordBuilder();\n}\n\nfunction compare(x, y) {\n  if (x === y) return true;\n  if (x.isRecord && y.isRecord) return x.equals(y);\n  if (x.isField && y.isField) return x.equals(y);\n  if (x instanceof Uint8Array && y instanceof Uint8Array && x.length === y.length) {\n    var i = 0;\n    var n = x.length;\n    while (i < n && x[i] === y[i]) i += 1;\n    if (i === n) return true;\n  }\n  return false;\n}\n\n\nfunction Record(items, index) {\n  if (index === undefined) {\n    index = {};\n    var i = 0;\n    var n = items.length;\n    while (i < n) {\n      var item = items[i];\n      if (item.isField) index[item.key] = item.value;\n      i += 1;\n    }\n  }\n  var record = function(key) {\n    var value = index[key];\n    if (value === undefined && typeof key === 'number') value = items[key];\n    return value;\n  };\n  record.__proto__ = Record.prototype;\n  Object.defineProperty(record, 'items', {value: items});\n  Object.defineProperty(record, 'index', {value: index});\n  return record;\n}\nRecord.prototype = Object.create(Function.prototype);\nRecord.prototype.constructor = Record;\nObject.defineProperty(Record.prototype, 'isRecord', {enumerable: true, value: true});\nObject.defineProperty(Record.prototype, 'size', {\n  enumerable: true,\n  get: function () {\n    return this.items.length;\n  }\n});\nRecord.prototype.isEmpty = function () {\n  return this.items.length === 0;\n};\nRecord.prototype.isArray = function () {\n  return this.items.length >= 0 && Object.getOwnPropertyNames(this.index).length === 0;\n};\nRecord.prototype.isMarkup = function () {\n  function isBlank(string) {\n    var cs = new StringIterator(string);\n    while (!cs.isEmpty() && isSpace(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  var items = this.iterator();\n  var afterNonText = false;\n  var hasNonText = false;\n  var sections = 0;\n  while (!items.isEmpty()) {\n    var item = items.head();\n    if (typeof item !== 'string') {\n      if (afterNonText) return false;\n      afterNonText = true;\n      hasNonText = true;\n    }\n    else if (afterNonText && !isBlank(item)) {\n      afterNonText = false;\n      sections += 1;\n    }\n    else if (sections === 0) sections = 1;\n    items.step();\n  }\n  return hasNonText && sections >= 2;\n};\nRecord.prototype.hasAttrs = function() {\n  return this.items.length > 0 && (this.items[0].isAttr || this.items[this.items.length - 1].isAttr);\n};\nRecord.prototype.hasPrefixAttrs = function () {\n  return this.items.length > 0 && this.items[0].isAttr;\n};\nRecord.prototype.hasPostfixAttrs = function () {\n  return this.items.length > 0 && this.items[this.items.length - 1].isAttr;\n};\nRecord.prototype.contains = function (key) {\n  return this(key) !== undefined;\n};\nRecord.prototype.head = function () {\n  return this.items.length > 0 ? this.items[0] : Absent;\n};\nRecord.prototype.tail = function () {\n  return new Record(this.items.slice(1));\n};\nRecord.prototype.body = function () {\n  return new Record(this.items.slice(0, -1));\n};\nRecord.prototype.foot = function () {\n  return this.items.length > 0 ? this.items[this.items.length - 1] : Absent;\n};\nRecord.prototype.target = function () {\n  var these = this.iterator();\n  while (!these.isEmpty()) {\n    var item = these.next();\n    if (!item.isField) return item;\n  }\n  return Absent;\n};\nRecord.prototype.concat = function () {\n  var builder = new RecordBuilder();\n  builder.appendRecord(this);\n  var that = coerce.apply(null, arguments);\n  if (that.isRecord) builder.appendRecord(that);\n  else builder.appendValue(that);\n  return builder.state();\n};\nRecord.prototype.iterator = function () {\n  return new RecordIterator(this.items);\n};\nRecord.prototype.forEach = function (f) {\n  var these = this.iterator();\n  while (!these.isEmpty()) f(these.next());\n};\nRecord.prototype.equals = function (that) {\n  var these = this.iterator();\n  var those = that.iterator();\n  while (!these.isEmpty() && !those.isEmpty()) {\n    if (!compare(these.next(), those.next())) return false;\n  }\n  return these.isEmpty() && those.isEmpty();\n};\nRecord.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeRecord(this);\n  return writer.state();\n};\n\n\nfunction Field() {}\nObject.defineProperty(Field.prototype, 'isField', {enumerable: true, value: true});\nObject.defineProperty(Field.prototype, 'isAttr', {enumerable: true, value: false});\nObject.defineProperty(Field.prototype, 'isSlot', {enumerable: true, value: false});\n\nfunction Attr(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (value === undefined) value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nAttr.prototype = Object.create(Field.prototype);\nAttr.prototype.constructor = Attr;\nObject.defineProperty(Attr.prototype, 'isAttr', {enumerable: true, value: true});\nAttr.prototype.equals = function (that) {\n  return that.isAttr && compare(this.key, that.key) && compare(this.value, that.value);\n};\nAttr.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeAttr(this);\n  return writer.state();\n};\n\nfunction Slot(key, value) {\n  Field.call(this);\n  Object.defineProperty(this, 'key', {enumerable: true, value: key});\n  if (value === undefined) value = Extant;\n  Object.defineProperty(this, 'value', {enumerable: true, value: value});\n}\nSlot.prototype = Object.create(Field.prototype);\nSlot.prototype.constructor = Slot;\nObject.defineProperty(Slot.prototype, 'isSlot', {enumerable: true, value: true});\nSlot.prototype.equals = function (that) {\n  return that.isSlot && compare(this.key, that.key) && compare(this.value, that.value);\n};\nSlot.prototype.toString = function () {\n  var writer = new ReconWriter();\n  writer.writeItem(this);\n  return writer.state();\n};\n\n\nvar Extant = {};\nObject.defineProperty(Extant, 'isExtant', {enumerable: true, value: true});\n\nvar Absent = {};\nObject.defineProperty(Absent, 'isAbsent', {enumerable: true, value: true});\n\n\nfunction RecordIterator(items, index) {\n  Object.defineProperty(this, 'items', {value: items});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nRecordIterator.prototype.isEmpty = function () {\n  return this.index >= this.items.length;\n};\nRecordIterator.prototype.head = function () {\n  if (this.index >= this.items.length) throw 'head of empty iterator';\n  return this.items[this.index];\n};\nRecordIterator.prototype.step = function () {\n  if (this.index >= this.items.length) throw 'empty iterator step';\n  this.index += 1;\n};\nRecordIterator.prototype.next = function () {\n  if (this.index >= this.items.length) return null;\n  var item = this.items[this.index];\n  this.index += 1;\n  return item;\n};\nRecordIterator.prototype.dup = function () {\n  return new RecordIterator(this.items, this.index);\n};\nRecordIterator.prototype.toRecord = function () {\n  return new Record(this.items.slice(this.index));\n};\nRecordIterator.prototype.isAllAttrs = function () {\n  var items = this.dup();\n  while (!items.isEmpty()) {\n    if (!items.next().isAttr) return false;\n  }\n  return true;\n};\n\n\nfunction RecordBuilder() {\n  Object.defineProperty(this, 'items', {value: []});\n  Object.defineProperty(this, 'index', {value: {}});\n}\nRecordBuilder.prototype.appendField = function (field) {\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nRecordBuilder.prototype.appendValue = function (value) {\n  this.items.push(value);\n};\nRecordBuilder.prototype.appendRecord = function (record) {\n  var items = record.iterator();\n  while (!items.isEmpty()) {\n    var item = items.next();\n    if (item.isField) this.appendField(item);\n    else this.appendValue(item);\n  }\n};\nRecordBuilder.prototype.attr = function (key, value) {\n  this.appendField(attr(key, value));\n  return this;\n};\nRecordBuilder.prototype.slot = function (key, value) {\n  this.appendField(slot(key, value));\n  return this;\n};\nRecordBuilder.prototype.item = function (value) {\n  this.appendValue(coerceItem(value));\n  return this;\n};\nRecordBuilder.prototype.state = function () {\n  return new Record(this.items, this.index);\n};\n\n\nfunction ValueBuilder() {\n  Object.defineProperty(this, 'items', {value: null, writable: true});\n  Object.defineProperty(this, 'index', {value: null, writable: true});\n  Object.defineProperty(this, 'value', {value: null, writable: true});\n}\nValueBuilder.prototype.appendField = function (field) {\n  if (this.items === null) {\n    this.items = [];\n    this.index = {};\n    if (this.value !== null) {\n      this.items.push(this.value);\n      this.value = null;\n    }\n  }\n  this.items.push(field);\n  this.index[field.key] = field.value;\n};\nValueBuilder.prototype.appendValue = function (value) {\n  if (this.items !== null) this.items.push(value);\n  else if (this.value === null) this.value = value;\n  else {\n    this.items = [];\n    this.index = {};\n    this.items.push(this.value);\n    this.value = null;\n    this.items.push(value);\n  }\n};\nValueBuilder.prototype.state = function () {\n  if (this.value !== null) return this.value;\n  else if (this.items !== null) return new Record(this.items, this.index);\n  else return Absent;\n};\n\n\nfunction StringIterator(string, index) {\n  Object.defineProperty(this, 'string', {value: string || ''});\n  Object.defineProperty(this, 'index', {value: index || 0, writable: true});\n}\nStringIterator.prototype.isDone = function () {\n  return false;\n};\nStringIterator.prototype.isEmpty = function () {\n  return this.index >= this.string.length;\n};\nStringIterator.prototype.head = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) return c1; // U+0000..U+D7FF | U+E000..U+FFFF\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      return (((c1 & 0x3FF) << 10) | (c2 & 0x3FF)) + 0x10000;\n    else return 0xFFFD;\n  }\n  else return 0xFFFD;\n};\nStringIterator.prototype.step = function () {\n  var c1 = this.string.charCodeAt(this.index);\n  if (c1 <= 0xD7FF || c1 >= 0xE000) // U+0000..U+D7FF | U+E000..U+FFFF\n    this.index += 1;\n  else if (c1 <= 0xDBFF && this.index + 1 < this.string.length) { // c1 >= 0xD800\n    var c2 = this.string.charCodeAt(this.index + 1);\n    if (c2 >= 0xDC00 && c2 <= 0xDFFF) // U+10000..U+10FFFF\n      this.index += 2;\n    else this.index += 1;\n  }\n  else this.index += 1;\n};\n\nStringIterator.Done = {\n  isDone: function () {\n    return true;\n  },\n  isEmpty: function () {\n    return true;\n  },\n  head: function () {\n    throw 'head of empty iterator';\n  },\n  step: function () {\n    throw 'empty iterator step';\n  }\n};\nStringIterator.Done.prototype = Object.create(StringIterator.prototype);\n\n\nfunction StringIteratee() {}\nStringIteratee.prototype.isCont = function () {\n  return true;\n};\nStringIteratee.prototype.isDone = function () {\n  return false;\n};\nStringIteratee.prototype.isError = function () {\n  return false;\n};\nStringIteratee.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.prototype.run = function (input) {\n  var next = this;\n  while (!input.isEmpty() && next.isCont()) next = next.feed(input);\n  if (input.isEmpty() && !input.isDone() && next.isCont()) next = next.feed(StringIterator.Done);\n  return next;\n};\n\nStringIteratee.Done = function (value) {\n  StringIteratee.call(this);\n  this.value = value;\n};\nStringIteratee.Done.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Done.prototype.constructor = StringIteratee.Done;\nStringIteratee.Done.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Done.prototype.isDone = function () {\n  return true;\n};\nStringIteratee.Done.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Done.prototype.state = function () {\n  return this.value;\n};\n\nStringIteratee.Error = function (error) {\n  StringIteratee.call(this);\n  this.error = error;\n};\nStringIteratee.Error.prototype = Object.create(StringIteratee.prototype);\nStringIteratee.Error.prototype.constructor = StringIteratee.Error;\nStringIteratee.Error.prototype.isCont = function () {\n  return false;\n};\nStringIteratee.Error.prototype.isError = function () {\n  return true;\n};\nStringIteratee.Error.prototype.feed = function (input) {\n  return this;\n};\nStringIteratee.Error.prototype.state = function () {\n  throw this.error;\n};\n\nStringIteratee.unexpectedEOF = new StringIteratee.Error('unexpected end of input');\n\n\nfunction StringBuilder() {\n  Object.defineProperty(this, 'string', {value: '', writable: true});\n}\nStringBuilder.prototype.append = function (c) {\n  if ((c >= 0x0000 && c <= 0xD7FF) ||\n      (c >= 0xE000 && c <= 0xFFFF)) { // U+0000..U+D7FF | U+E000..U+FFFF\n    this.string += String.fromCharCode(c);\n  }\n  else if (c >= 0x10000 && c <= 0x10FFFF) { // U+10000..U+10FFFF\n    var u = c - 0x10000;\n    this.string += String.fromCharCode(0xD800 | (u >>> 10), 0xDC00 | (u & 0x3FF));\n  }\n  else { // invalid code point\n    this.string += String.fromCharCode(0xFFFD);\n  }\n};\nStringBuilder.prototype.appendString = function (s) {\n  var cs = new StringIterator(s);\n  while (!cs.isEmpty()) {\n    this.append(cs.head());\n    cs.step();\n  }\n};\nStringBuilder.prototype.state = function () {\n  return this.string;\n};\n\n\nfunction DataBuilder() {\n  Object.defineProperty(this, 'buffer', {value: null, writable: true});\n  Object.defineProperty(this, 'offset', {value: 0, writable: true});\n  Object.defineProperty(this, 'aliased', {value: true, writable: true});\n  Object.defineProperty(this, 'p', {value: 0, writable: true});\n  Object.defineProperty(this, 'q', {value: 0, writable: true});\n  Object.defineProperty(this, 'r', {value: 0, writable: true});\n  Object.defineProperty(this, 's', {value: 0, writable: true});\n}\nDataBuilder.prototype.prepare = function (size) {\n  function expand(base, size) {\n    var n = Math.max(base, size) - 1;\n    n |= n >> 1; n |= n >> 2; n |= n >> 4; n |= n >> 8;\n    return n + 1;\n  }\n  if (this.aliased || size > this.buffer.length) {\n    var array = new Uint8Array(expand(256, size));\n    if (this.buffer) array.set(this.buffer);\n    this.buffer = array;\n    this.aliased = false;\n  }\n};\nDataBuilder.prototype.appendByte = function (value) {\n  this.prepare(this.offset + 1);\n  this.buffer[this.offset] = value;\n  this.offset += 1;\n};\nDataBuilder.prototype.decodeBase64Digit = function (c) {\n  if (c >= 65/*'A'*/ && c <= 90/*'Z'*/) return c - 65/*'A'*/;\n  else if (c >= 97/*'a'*/ && c <= 122/*'z'*/) return c - 71/*'a' - 26*/;\n  else if (c >= 48/*'0'*/ && c <= 57/*'9'*/) return c + 4/*52 - '0'*/;\n  else if (c === 43/*'+'*/ || c === 45/*'-'*/) return 62;\n  else if (c === 47/*'/'*/ || c === 95/*'_'*/) return 63;\n};\nDataBuilder.prototype.decodeBase64Quantum = function () {\n  var x = this.decodeBase64Digit(this.p);\n  var y = this.decodeBase64Digit(this.q);\n  if (this.r !== 61/*'='*/) {\n    var z = this.decodeBase64Digit(this.r);\n    if (this.s !== 61/*'='*/) {\n      var w = this.decodeBase64Digit(this.s);\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n      this.appendByte((z << 6) | w);\n    }\n    else {\n      this.appendByte((x << 2) | (y >>> 4));\n      this.appendByte((y << 4) | (z >>> 2));\n    }\n  }\n  else {\n    if (this.s !== 61/*'='*/) throw 'incomplete base64 quantum';\n    this.appendByte((x << 2) | (y >>> 4));\n  }\n};\nDataBuilder.prototype.appendBase64Char = function (c) {\n  if (this.p === 0) this.p = c;\n  else if (this.q === 0) this.q = c;\n  else if (this.r === 0) this.r = c;\n  else {\n    this.s = c;\n    this.decodeBase64Quantum();\n    this.s = 0;\n    this.r = 0;\n    this.q = 0;\n    this.p = 0;\n  }\n};\nDataBuilder.prototype.state = function (value) {\n  if (!this.buffer) this.buffer = new Uint8Array(0);\n  else if (this.buffer.length !== this.offset) {\n    var array = new Uint8Array(this.offset);\n    array.set(this.buffer.subarray(0, this.offset));\n    this.buffer = array;\n  }\n  this.aliased = true;\n  return this.buffer;\n};\n\n\nfunction isSpace(c) {\n  return c === 0x20 || c === 0x9;\n}\nfunction isNewline(c) {\n  return c === 0xA || c === 0xD;\n}\nfunction isWhitespace(c) {\n  return isSpace(c) || isNewline(c);\n}\nfunction isNameStartChar(c) {\n  return (\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x2FF ||\n    c >= 0x370 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isNameChar(c) {\n  return (\n    c === 45/*'-'*/ ||\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c === 95/*'_'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 0xB7 ||\n    c >= 0xC0 && c <= 0xD6 ||\n    c >= 0xD8 && c <= 0xF6 ||\n    c >= 0xF8 && c <= 0x37D ||\n    c >= 0x37F && c <= 0x1FFF ||\n    c >= 0x200C && c <= 0x200D ||\n    c >= 0x203F && c <= 0x2040 ||\n    c >= 0x2070 && c <= 0x218F ||\n    c >= 0x2C00 && c <= 0x2FEF ||\n    c >= 0x3001 && c <= 0xD7FF ||\n    c >= 0xF900 && c <= 0xFDCF ||\n    c >= 0xFDF0 && c <= 0xFFFD ||\n    c >= 0x10000 && c <= 0xEFFFF);\n}\nfunction isBase64Char(c) {\n  return (\n    c >= 48/*'0'*/ && c <= 57/*'9'*/ ||\n    c >= 65/*'A'*/ && c <= 90/*'Z'*/ ||\n    c >= 97/*'a'*/ && c <= 122/*'z'*/ ||\n    c === 43/*'+'*/ || c === 45/*'-'*/ ||\n    c === 47/*'/'*/ || c === 95/*'_'*/);\n}\n\n\nfunction DocumentParser(value) {\n  StringIteratee.call(this);\n  this.value = value || new BlockParser();\n}\nDocumentParser.prototype = Object.create(StringIteratee.prototype);\nDocumentParser.prototype.constructor = DocumentParser;\nDocumentParser.prototype.feed = function (input) {\n  var value = this.value;\n  while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n  if (value.isError()) return value;\n  if (value.isDone()) {\n    if (!input.isEmpty()) return new StringIteratee.Error({found: input.head()});\n    else if (input.isDone()) return value;\n  }\n  return new DocumentParser(value);\n};\n\n\nfunction BlockParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockParser.prototype = Object.create(StringIteratee.prototype);\nBlockParser.prototype.constructor = BlockParser;\nBlockParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new ValueBuilder();\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) s = 2;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 2) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 3;\n      else if (key.isError()) return key;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 4;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 6;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 5;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 1;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n  }\n  return new BlockParser(builder, key, value, s);\n};\n\n\nfunction AttrParser(ident, value, s) {\n  StringIteratee.call(this);\n  this.ident = ident || new IdentParser();\n  this.value = value || new BlockParser();\n  this.s = s || 1;\n}\nAttrParser.prototype = Object.create(StringIteratee.prototype);\nAttrParser.prototype.constructor = AttrParser;\nAttrParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var ident = this.ident;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 64/*'@'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'@\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    ident = ident.feed(input);\n    if (ident.isDone()) s = 3;\n    else if (ident.isError()) return ident;\n  }\n  if (s === 3) {\n    if (!input.isEmpty() && input.head() === 40/*'('*/) {\n      input.step();\n      s = 4;\n    }\n    else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(new Attr(ident.state()));\n  }\n  if (s === 4) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state()));\n      }\n      else s = 5;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 5) {\n    while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n    if (value.isDone()) s = 6;\n    else if (value.isError()) return value;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n    if (!input.isEmpty()) {\n      if (c === 41/*')'*/) {\n        input.step();\n        return new StringIteratee.Done(new Attr(ident.state(), value.state()));\n      }\n      else return new StringIteratee.Error({expected: '\\')\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  return new AttrParser(ident, value, s);\n};\n\n\nfunction BlockValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nBlockValueParser.prototype = Object.create(StringIteratee.prototype);\nBlockValueParser.prototype.constructor = BlockValueParser;\nBlockValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          value = new RecordParser(builder);\n          s = 5;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          value = new MarkupParser(builder);\n          s = 5;\n        }\n        else if (c === 34/*'\"'*/) {\n          value = new StringParser();\n          s = 4;\n        }\n        else if (c === 37/*'%'*/) {\n          value = new DataParser();\n          s = 4;\n        }\n        else if (c === 45/*'-'*/ || c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n          value = new NumberParser();\n          s = 4;\n        }\n        else if (isNameStartChar(c)) {\n          value = new IdentParser();\n          s = 4;\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 6;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 6) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) {\n        if (input.head() === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 7;\n        }\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 7) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 6;\n      }\n      else if (field.isError()) return field;\n    }\n  }\n  return new BlockValueParser(builder, field, value, s);\n};\n\n\nfunction InlineValueParser(builder, field, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.field = field || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nInlineValueParser.prototype = Object.create(StringIteratee.prototype);\nInlineValueParser.prototype.constructor = InlineValueParser;\nInlineValueParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var field = this.field;\n  var builder = this.builder;\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 1) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 64/*'@'*/) {\n          field = new AttrParser();\n          s = 2;\n        }\n        else if (c === 123/*'{'*/) {\n          if (builder) {\n            value = new RecordParser(builder);\n            s = 5;\n          }\n          else {\n            value = new RecordParser();\n            s = 4;\n          }\n        }\n        else if (c === 91/*'['*/) {\n          if (builder) {\n            value = new MarkupParser(builder);\n            s = 5;\n          }\n          else {\n            value = new MarkupParser();\n            s = 4;\n          }\n        }\n        else if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n      else if (input.isDone()) {\n        if (!builder) return new StringIteratee.Done(Absent);\n        else return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 2) {\n      while ((!input.isEmpty() || input.isDone()) && field.isCont()) field = field.feed(input);\n      if (field.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendField(field.state());\n        field = null;\n        s = 3;\n      }\n      else if (field.isError()) return field;\n    }\n    if (s === 3) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 1;\n      else if (input.isDone()) return new StringIteratee.Done(builder.state());\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder = builder || new ValueBuilder();\n        builder.appendValue(value.state());\n        return new StringIteratee.Done(builder.state());\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) return new StringIteratee.Done(builder.state());\n      else if (value.isError()) return value;\n    }\n  }\n  return new InlineValueParser(builder, field, value, s);\n};\n\n\nfunction RecordParser(builder, key, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.key = key || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nRecordParser.prototype = Object.create(StringIteratee.prototype);\nRecordParser.prototype.constructor = RecordParser;\nRecordParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var key = this.key;\n  var builder = this.builder || new RecordBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 123/*'{'*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'{\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(), isWhitespace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n        else s = 3;\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      key = key || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && key.isCont()) key = key.feed(input);\n      if (key.isDone()) s = 4;\n      else if (key.isError()) return key;\n    }\n    if (s === 4) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 58/*':'*/) {\n          input.step();\n          s = 5;\n        }\n        else {\n          builder.appendValue(key.state());\n          key = null;\n          s = 7;\n        }\n      }\n      else if (input.isDone()) {\n        builder.appendValue(key.state());\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 5) {\n      while (!input.isEmpty() && isSpace(input.head())) input.step();\n      if (!input.isEmpty()) s = 6;\n      else if (input.isDone()) {\n        builder.appendField(new Slot(key.state()));\n        return new StringIteratee.Done(builder.state());\n      }\n    }\n    if (s === 6) {\n      value = value || new BlockValueParser();\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendField(new Slot(key.state(), value.state()));\n        key = null;\n        value = null;\n        s = 7;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 7) {\n      while (!input.isEmpty() && (c = input.head(), isSpace(c))) input.step();\n      if (!input.isEmpty()) {\n        if (c === 44/*','*/ || c === 59/*';'*/ || isNewline(c)) {\n          input.step();\n          s = 2;\n        }\n        else if (c === 125/*'}'*/) {\n          input.step();\n          return new StringIteratee.Done(builder.state());\n        }\n       else return new StringIteratee.Error({expected: '\\'}\\', \\';\\', \\',\\', or newline', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new RecordParser(builder, key, value, s);\n};\n\n\nfunction MarkupParser(builder, text, value, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.text = text || null;\n  this.value = value || null;\n  this.s = s || 1;\n}\nMarkupParser.prototype = Object.create(StringIteratee.prototype);\nMarkupParser.prototype.constructor = MarkupParser;\nMarkupParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var value = this.value;\n  var text = this.text;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 91/*'['*/) {\n        input.step();\n        s = 2;\n      }\n      else return new StringIteratee.Error({expected: '\\'[\\'', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      while (!input.isEmpty() && (c = input.head(),\n          c !== 64/*'@'*/ &&\n          c !== 91/*'['*/ &&\n          c !== 92/*'\\\\'*/ &&\n          c !== 93/*']'*/ &&\n          c !== 123/*'{'*/ &&\n          c !== 125/*'}'*/)) {\n        input.step();\n        text = text || new StringBuilder();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 93/*']'*/) {\n          input.step();\n          builder = builder || new RecordBuilder();\n          if (text) builder.appendValue(text.state());\n          return new StringIteratee.Done(builder.state());\n        }\n        else if (c === 64/*'@'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new InlineValueParser();\n          s = 3;\n        }\n        else if (c === 123/*'{'*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new RecordParser(builder);\n          s = 4;\n        }\n        else if (c === 91/*'['*/) {\n          builder = builder || new RecordBuilder();\n          if (text) {\n            builder.appendValue(text.state());\n            text = null;\n          }\n          value = new MarkupParser(builder);\n          s = 4;\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 5;\n        }\n        else new StringIteratee.Error({found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        builder.appendValue(value.state());\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 4) {\n      while ((!input.isEmpty() || input.isDone()) && value.isCont()) value = value.feed(input);\n      if (value.isDone()) {\n        value = null;\n        s = 2;\n      }\n      else if (value.isError()) return value;\n    }\n    if (s === 5) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        text = text || new StringBuilder();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new MarkupParser(builder, text, value, s);\n};\n\n\nfunction StringParser(text, s) {\n  StringIteratee.call(this);\n  this.text = text || null;\n  this.s = s || 1;\n}\nStringParser.prototype = Object.create(StringIteratee.prototype);\nStringParser.prototype.constructor = StringParser;\nStringParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var text = this.text;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 34/*'\"'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'\"\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      text = text || new StringBuilder();\n      while (!input.isEmpty() && (c = input.head(), c !== 34/*'\"'*/ && c !== 92/*'\\\\'*/)) {\n        input.step();\n        text.append(c);\n      }\n      if (!input.isEmpty()) {\n        if (c === 34/*'\"'*/) {\n          input.step();\n          return new StringIteratee.Done(text.state());\n        }\n        else if (c === 92/*'\\\\'*/) {\n          input.step();\n          s = 3;\n        }\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 3) {\n      if (!input.isEmpty()) {\n        c = input.head();\n        if (c === 34/*'\"'*/ ||\n            c === 47/*'/'*/ ||\n            c === 64/*'@'*/ ||\n            c === 91/*'['*/ ||\n            c === 92/*'\\\\'*/ ||\n            c === 93/*']'*/ ||\n            c === 123/*'{'*/ ||\n            c === 125/*'}'*/) {\n          input.step();\n          text.append(c);\n          s = 2;\n        }\n        else if (c === 98/*'b'*/) {\n          input.step();\n          text.append(8/*'\\b'*/);\n          s = 2;\n        }\n        else if (c === 102/*'f'*/) {\n          input.step();\n          text.append(12/*'\\f'*/);\n          s = 2;\n        }\n        else if (c === 110/*'n'*/) {\n          input.step();\n          text.append(10/*'\\n'*/);\n          s = 2;\n        }\n        else if (c === 114/*'r'*/) {\n          input.step();\n          text.append(13/*'\\r'*/);\n          s = 2;\n        }\n        else if (c === 116/*'t'*/) {\n          input.step();\n          text.append(9/*'\\t'*/);\n          s = 2;\n        }\n        else return new StringIteratee.Error({expected: 'escape character', found: c});\n      }\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new StringParser(text, s);\n};\n\n\nfunction DataParser(data, s) {\n  StringIteratee.call(this);\n  this.data = data || null;\n  this.s = s || 1;\n}\nDataParser.prototype = Object.create(StringIteratee.prototype);\nDataParser.prototype.constructor = DataParser;\nDataParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var data = this.data || new DataBuilder();\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), c === 37/*'%'*/)) {\n      input.step();\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'%\\'', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  while (!input.isEmpty() || input.isDone()) {\n    if (s === 2) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 3;\n      }\n      else if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(data.state());\n    }\n    if (s === 3) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c))) {\n        input.step();\n        data.appendBase64Char(c);\n        s = 4;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 4) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 5;\n        else s = 6;\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    if (s === 5) {\n      if (!input.isEmpty() && (c = input.head(), isBase64Char(c) || c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        if (c !== 61/*'='*/) s = 2;\n        else return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'base64 digit', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n    else if (s === 6) {\n      if (!input.isEmpty() && (c = input.head(), c === 61/*'='*/)) {\n        input.step();\n        data.appendBase64Char(c);\n        return new StringIteratee.Done(data.state());\n      }\n      else if (!input.isEmpty()) return new StringIteratee.Error({expected: '\\'=\\'', found: c});\n      else if (input.isDone()) return StringIteratee.unexpectedEOF;\n    }\n  }\n  return new DataParser(data, s);\n};\n\n\nfunction NumberParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nNumberParser.prototype = Object.create(StringIteratee.prototype);\nNumberParser.prototype.constructor = NumberParser;\nNumberParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder || new StringBuilder();\n  if (s === 1) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 2;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 48/*'0'*/) {\n        input.step();\n        builder.append(c);\n        s = 4;\n      }\n      else if (c >= 49/*'1'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 3;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 3) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 4;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 4) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 46/*'.'*/) {\n        input.step();\n        builder.append(c);\n        s = 5;\n      }\n      else if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n        input.step();\n        builder.append(c);\n        s = 8;\n      }\n      else return new StringIteratee.Done(Number(builder.state()));\n    }\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 5) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 6;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 6) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty()) s = 7;\n    else if (input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 7) {\n    c = input.head();\n    if (c === 69/*'E'*/ || c === 101/*'e'*/) {\n      input.step();\n      builder.append(c);\n      s = 8;\n    }\n    else return new StringIteratee.Done(Number(builder.state()));\n  }\n  if (s === 8) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c === 43/*'+'*/ || c === 45/*'-'*/) {\n        input.step();\n        builder.append(c);\n      }\n      s = 9;\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 9) {\n    if (!input.isEmpty()) {\n      c = input.head();\n      if (c >= 48/*'0'*/ && c <= 57/*'9'*/) {\n        input.step();\n        builder.append(c);\n        s = 10;\n      }\n      else return new StringIteratee.Error({expected: 'digit', found: c});\n    }\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 10) {\n    while (!input.isEmpty() && (c = input.head(), c >= 48/*'0'*/ && c <= 57/*'9'*/)) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) return new StringIteratee.Done(Number(builder.state()));\n  }\n  return new NumberParser(builder, s);\n};\n\nfunction IdentParser(builder, s) {\n  StringIteratee.call(this);\n  this.builder = builder || null;\n  this.s = s || 1;\n}\nIdentParser.prototype = Object.create(StringIteratee.prototype);\nIdentParser.prototype.constructor = IdentParser;\nIdentParser.prototype.feed = function (input) {\n  var c = 0;\n  var s = this.s;\n  var builder = this.builder;\n  if (s === 1) {\n    if (!input.isEmpty() && (c = input.head(), isNameStartChar(c))) {\n      builder = builder || new StringBuilder();\n      input.step();\n      builder.append(c);\n      s = 2;\n    }\n    else if (!input.isEmpty()) return new StringIteratee.Error({expected: 'identitifer', found: c});\n    else if (input.isDone()) return StringIteratee.unexpectedEOF;\n  }\n  if (s === 2) {\n    while (!input.isEmpty() && (c = input.head(), isNameChar(c))) {\n      input.step();\n      builder.append(c);\n    }\n    if (!input.isEmpty() || input.isDone()) {\n      var value = builder.state();\n      if (value === 'true') value = true;\n      else if (value === 'false') value = false;\n      return new StringIteratee.Done(value);\n    }\n  }\n  return new IdentParser(builder, s);\n};\n\n\nfunction ReconWriter(builder) {\n  Object.defineProperty(this, 'builder', {value: builder || new StringBuilder()});\n}\nReconWriter.prototype.writeValue = function (value, inMarkup) {\n  if (value.isRecord) this.writeRecord(value, inMarkup);\n  else if (typeof value === 'string') this.writeText(value, inMarkup);\n  else if (typeof value === 'number') this.writeNumber(value);\n  else if (typeof value === 'boolean') this.writeBool(value);\n  else if (value instanceof Uint8Array) this.writeData(value);\n};\nReconWriter.prototype.writeAttr = function(attr) {\n  this.builder.append(64/*'@'*/);\n  this.writeIdent(attr.key);\n  if (!attr.value.isExtant) {\n    this.builder.append(40/*'('*/);\n    this.writeBlock(attr.value);\n    this.builder.append(41/*')'*/);\n  }\n};\nReconWriter.prototype.writeItem = function(item) {\n  if (item.isField) {\n    this.writeValue(item.key);\n    this.builder.append(58/*':'*/);\n    if (!item.value.isExtant) this.writeValue(item.value);\n  }\n  else this.writeValue(item);\n};\nReconWriter.prototype.writeBlock = function (value) {\n  if (!value.isRecord) this.writeValue(value);\n  else if (value.isMarkup()) this.writeMarkup(value);\n  else if (value.hasAttrs()) this.writeRecord(value);\n  else {\n    var items = value.iterator();\n    if (!items.isEmpty()) {\n      this.writeItem(items.next());\n      while (!items.isEmpty()) {\n        this.builder.append(44/*','*/);\n        this.writeItem(items.next());\n      }\n    }\n  }\n};\nReconWriter.prototype.writeRecord = function (record, inMarkup) {\n  if (record.isMarkup()) this.writeMarkup(record);\n  else {\n    var items = record.iterator();\n    var item;\n    var hasAttrs = false;\n    while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n      this.writeAttr(item);\n      items.step();\n      hasAttrs = true;\n    }\n    if (!items.isEmpty()) {\n      items.step();\n      if (hasAttrs && items.isEmpty()) {\n        if (inMarkup) {\n          if (item.isRecord || typeof item === 'string') this.writeValue(item, inMarkup);\n          else {\n            this.builder.append(123/*'{'*/);\n            this.writeItem(item);\n            this.builder.append(125/*'}'*/);\n          }\n        }\n        else if (item.isRecord || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else if (!items.isEmpty() && items.isAllAttrs()) {\n        if (item.isRecord || item.isSlot) {\n          this.builder.append(123/*'{'*/);\n          this.writeItem(item);\n          this.builder.append(125/*'}'*/);\n        }\n        else {\n          if (hasAttrs) this.builder.append(32/*' '*/);\n          this.writeValue(item);\n        }\n      }\n      else {\n        this.builder.append(123/*'{'*/);\n        this.writeItem(item);\n        while (!items.isEmpty() && ((item = items.head(), !item.isAttr) || !items.isAllAttrs)) {\n          this.builder.append(44/*','*/);\n          this.writeItem(item);\n          items.step();\n        }\n        this.builder.append(125/*'}'*/);\n      }\n      while (!items.isEmpty()) this.writeAttr(items.next());\n    }\n    else if (!hasAttrs) {\n      this.builder.append(123/*'{'*/);\n      this.builder.append(125/*'}'*/);\n    }\n  }\n};\nReconWriter.prototype.writeMarkup = function (record) {\n  var items = record.iterator();\n  var item;\n  var hasAttrs = false;\n  while (!items.isEmpty() && (item = items.head(), item.isAttr)) {\n    this.writeAttr(item);\n    items.step();\n    hasAttrs = true;\n  }\n  this.builder.append(91/*'['*/);\n  while (!items.isEmpty()) {\n    item = items.head();\n    if (typeof item === 'string') {\n      var cs = new StringIterator(item);\n      while (!cs.isEmpty()) {\n        var c = cs.head();\n        switch (c) {\n          case 64/*'@'*/:\n          case 91/*'['*/:\n          case 92/*'\\\\'*/:\n          case 93/*']'*/:\n          case 123/*'{'*/:\n          case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n          default: this.builder.append(c);\n        }\n        cs.step();\n      }\n    }\n    else if (item.isRecord) this.writeRecord(item, true);\n    else {\n      this.builder.append(123/*'{'*/);\n      this.writeItem(item);\n      this.builder.append(125/*'}'*/);\n    }\n    items.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeText = function (text, inMarkup) {\n  function isIdent() {\n    var cs = new StringIterator(text);\n    if (cs.isEmpty() || !isNameStartChar(cs.head())) return false;\n    cs.step();\n    while (!cs.isEmpty() && isNameChar(cs.head())) cs.step();\n    return cs.isEmpty();\n  }\n  if (inMarkup) this.writeTextMarkup(text);\n  else if (isIdent()) this.writeIdent(text);\n  else this.writeString(text);\n};\nReconWriter.prototype.writeString = function (string) {\n  var cs = new StringIterator(string);\n  this.builder.append(34/*'\"'*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 34/*'\"'*/:\n      case 92/*'\\\\'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      case 8/*'\\b'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(98/*'b'*/); break;\n      case 12/*'\\f'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(102/*'f'*/); break;\n      case 10/*'\\n'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(110/*'n'*/); break;\n      case 13/*'\\r'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(114/*'r'*/); break;\n      case 9/*'\\t'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(116/*'t'*/); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(34/*'\"'*/);\n};\nReconWriter.prototype.writeIdent = function (ident) {\n  this.builder.appendString(ident);\n};\nReconWriter.prototype.writeTextMarkup = function (text) {\n  var cs = new StringIterator(text);\n  this.builder.append(91/*'['*/);\n  while (!cs.isEmpty()) {\n    var c = cs.head();\n    switch (c) {\n      case 64/*'@'*/:\n      case 91/*'['*/:\n      case 92/*'\\\\'*/:\n      case 93/*']'*/:\n      case 123/*'{'*/:\n      case 125/*'}'*/: this.builder.append(92/*'\\\\'*/); this.builder.append(c); break;\n      default: this.builder.append(c);\n    }\n    cs.step();\n  }\n  this.builder.append(93/*']'*/);\n};\nReconWriter.prototype.writeNumber = function (number) {\n  this.builder.appendString(number.toString());\n};\nReconWriter.prototype.writeBool = function (bool) {\n  this.builder.appendString(bool.toString());\n};\nReconWriter.prototype.writeData = function (data) {\n  function encodeBase64Digit(x) {\n    if      (x >=  0 && x < 26) return x + 65/*'A'*/;\n    else if (x >= 26 && x < 52) return x + 71/*('a' - 26)*/;\n    else if (x >= 52 && x < 62) return x - 4/*-('0' - 52)*/;\n    else if (x === 62) return 43/*'+'*/;\n    else if (x === 63) return 47/*'/'*/;\n  }\n  this.builder.append(37/*'%'*/);\n  var i = 0;\n  var n = data.length;\n  var x, y, z;\n  while (i + 2 < n) {\n    x = data[i];\n    y = data[i + 1];\n    z = data[i + 2];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit(((y << 2) | (z >>> 6)) & 0x3F));\n    this.builder.append(encodeBase64Digit(z & 0x3F));\n    i += 3;\n  }\n  if (i + 1 < n) {\n    x = data[i];\n    y = data[i + 1];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit(((x << 4) | (y >>> 4)) & 0x3F));\n    this.builder.append(encodeBase64Digit((y << 2) & 0x3F));\n    this.builder.append(61/*'='*/);\n    i += 2;\n  }\n  else if (i < n) {\n    x = data[i];\n    this.builder.append(encodeBase64Digit(x >>> 2));\n    this.builder.append(encodeBase64Digit((x << 4) & 0x3F));\n    this.builder.append(61/*'='*/);\n    this.builder.append(61/*'='*/);\n    i += 1;\n  }\n};\nReconWriter.prototype.state = function () {\n  return this.builder.state();\n};\n\n\nmodule.exports = function () {\n  return coerce.apply(null, arguments);\n};\nexports = module.exports;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.objectify = objectify;\nexports.Record = Record;\nexports.Field = Field;\nexports.Attr = Attr;\nexports.Slot = Slot;\nexports.attr = attr;\nexports.slot = slot;\nexports.base64 = base64;\nexports.extant = Extant;\nexports.absent = Absent;\nexports.empty = empty;\nexports.builder = builder;\nexports.compare = compare;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar recon = require('recon-js');\n\nfunction decode(record) {\n  if (record.isRecord) {\n    var heading = record.head();\n    if (heading.isField) switch (heading.key) {\n      case 'event': return EventMessage.decode(record);\n      case 'command': return CommandMessage.decode(record);\n      case 'get': return GetRequest.decode(record);\n      case 'put': return PutRequest.decode(record);\n      case 'state': return StateResponse.decode(record);\n      case 'link': return LinkRequest.decode(record);\n      case 'linked': return LinkedResponse.decode(record);\n      case 'unlink': return UnlinkRequest.decode(record);\n      case 'unlinked': return UnlinkedResponse.decode(record);\n    }\n  }\n}\n\nfunction encode(envelope) {\n  return envelope.encode();\n}\n\nfunction parse(string) {\n  return decode(recon.parse(string));\n}\n\nfunction stringify(envelope) {\n  return recon.stringify(encode(envelope));\n}\n\n\nfunction Envelope() {}\nObject.defineProperty(Envelope.prototype, 'isRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isEventMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isCommandMessage', {value: false});\nObject.defineProperty(Envelope.prototype, 'isGetRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isPutRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isStateResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isLinkedResponse', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkRequest', {value: false});\nObject.defineProperty(Envelope.prototype, 'isUnlinkedResponse', {value: false});\n\n\nfunction RequestEnvelope() {\n  Envelope.call(this);\n}\nRequestEnvelope.prototype = Object.create(Envelope.prototype);\nRequestEnvelope.prototype.constructor = RequestEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isRequest', {value: true});\n\n\nfunction ResponseEnvelope() {\n  Envelope.call(this);\n}\nResponseEnvelope.prototype = Object.create(Envelope.prototype);\nResponseEnvelope.prototype.constructor = ResponseEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isResponse', {value: true});\n\n\nfunction MessageEnvelope() {\n  Envelope.call(this);\n}\nMessageEnvelope.prototype = Object.create(Envelope.prototype);\nMessageEnvelope.prototype.constructor = MessageEnvelope;\nObject.defineProperty(RequestEnvelope.prototype, 'isMessage', {value: true});\n\n\nfunction EventMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nEventMessage.prototype = Object.create(MessageEnvelope.prototype);\nEventMessage.prototype.constructor = EventMessage;\nObject.defineProperty(EventMessage.prototype, 'isEventMessage', {value: true});\nEventMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('event', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nEventMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new EventMessage(node, lane, via, body);\n};\n\n\nfunction CommandMessage(node, lane, via, body) {\n  MessageEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n  Object.defineProperty(this, 'via', {enumerable: true, value: via || recon.absent});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nCommandMessage.prototype = Object.create(MessageEnvelope.prototype);\nCommandMessage.prototype.constructor = CommandMessage;\nObject.defineProperty(CommandMessage.prototype, 'isCommandMessage', {value: true});\nCommandMessage.prototype.encode = function () {\n  var builder = recon.builder();\n  var heading = recon.builder();\n  heading.slot('node', this.node);\n  heading.slot('lane', this.lane);\n  if (!this.via.isAbsent) heading.slot('via', this.via);\n  builder.attr('command', heading.state());\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nCommandMessage.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var via = recon.absent;\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n        case 'via': via = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n        case 2: via = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new CommandMessage(node, lane, via, body);\n};\n\n\nfunction GetRequest(node) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n}\nGetRequest.prototype = Object.create(RequestEnvelope.prototype);\nGetRequest.prototype.constructor = GetRequest;\nObject.defineProperty(GetRequest.prototype, 'isGetRequest', {value: true});\nGetRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('get', recon(\n      recon.slot('node', this.node))));\n};\nGetRequest.decode = function (record) {\n  var node = '';\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new GetRequest(node);\n};\n\n\nfunction PutRequest(node, body) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nPutRequest.prototype = Object.create(RequestEnvelope.prototype);\nPutRequest.prototype.constructor = PutRequest;\nObject.defineProperty(PutRequest.prototype, 'isPutRequest', {value: true});\nPutRequest.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('put', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nPutRequest.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new PutRequest(node, body);\n};\n\n\nfunction StateResponse(node, body) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'body', {enumerable: true, value: body || recon.empty()});\n}\nStateResponse.prototype = Object.create(ResponseEnvelope.prototype);\nStateResponse.prototype.constructor = StateResponse;\nObject.defineProperty(StateResponse.prototype, 'isStateResponse', {value: true});\nStateResponse.prototype.encode = function () {\n  var builder = recon.builder();\n  builder.attr('state', recon(\n    recon.slot('node', this.node)));\n  builder.appendRecord(this.body);\n  return builder.state();\n};\nStateResponse.decode = function (record) {\n  var node = '';\n  var body = record.tail();\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n      }\n      i += 1;\n    }\n  }\n  else if (!heading.value.isExtant) node = heading.value;\n  return new StateResponse(node, body);\n};\n\n\nfunction LinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nLinkRequest.prototype.constructor = LinkRequest;\nObject.defineProperty(LinkRequest.prototype, 'isLinkRequest', {value: true});\nLinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('link', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkRequest(node, lane);\n};\n\n\nfunction LinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nLinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nLinkedResponse.prototype.constructor = LinkedResponse;\nObject.defineProperty(LinkedResponse.prototype, 'isLinkedResponse', {value: true});\nLinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('linked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nLinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new LinkedResponse(node, lane);\n};\n\n\nfunction UnlinkRequest(node, lane) {\n  RequestEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkRequest.prototype = Object.create(RequestEnvelope.prototype);\nUnlinkRequest.prototype.constructor = UnlinkRequest;\nObject.defineProperty(UnlinkRequest.prototype, 'isUnlinkRequest', {value: true});\nUnlinkRequest.prototype.encode = function () {\n  return recon(\n    recon.attr('unlink', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkRequest.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkRequest(node, lane);\n};\n\n\nfunction UnlinkedResponse(node, lane) {\n  ResponseEnvelope.call(this);\n  Object.defineProperty(this, 'node', {enumerable: true, value: node});\n  Object.defineProperty(this, 'lane', {enumerable: true, value: lane});\n}\nUnlinkedResponse.prototype = Object.create(ResponseEnvelope.prototype);\nUnlinkedResponse.prototype.constructor = UnlinkedResponse;\nObject.defineProperty(UnlinkedResponse.prototype, 'isUnlinkedResponse', {value: true});\nUnlinkedResponse.prototype.encode = function () {\n  return recon(\n    recon.attr('unlinked', recon(\n      recon.slot('node', this.node),\n      recon.slot('lane', this.lane))));\n};\nUnlinkedResponse.decode = function (record) {\n  var node = '';\n  var lane = '';\n  var heading = record.head();\n  if (heading.value.isRecord) {\n    var headers = heading.value.iterator();\n    var i = 0;\n    while (!headers.isEmpty()) {\n      var header = headers.next();\n      if (header.isField) switch (header.key) {\n        case 'node': node = header.value; break;\n        case 'lane': lane = header.value; break;\n      }\n      else switch (i) {\n        case 0: node = header; break;\n        case 1: lane = header; break;\n      }\n      i += 1;\n    }\n  }\n  return new UnlinkedResponse(node, lane);\n};\n\n\nexports.decode = decode;\nexports.encode = encode;\nexports.parse = parse;\nexports.stringify = stringify;\nexports.Envelope = Envelope;\nexports.RequestEnvelope = RequestEnvelope;\nexports.ResponseEnvelope = ResponseEnvelope;\nexports.MessageEnvelope = MessageEnvelope;\nexports.EventMessage = EventMessage;\nexports.CommandMessage = CommandMessage;\nexports.GetRequest = GetRequest;\nexports.PutRequest = PutRequest;\nexports.StateResponse = StateResponse;\nexports.LinkRequest = LinkRequest;\nexports.LinkedResponse = LinkedResponse;\nexports.UnlinkRequest = UnlinkRequest;\nexports.UnlinkedResponse = UnlinkedResponse;\n\n},{\"recon-js\":2}],4:[function(require,module,exports){\nrequire(\"./schemes/http\");\r\nrequire(\"./schemes/urn\");\n},{\"./schemes/http\":5,\"./schemes/urn\":6}],5:[function(require,module,exports){\n(function () {\r\n\tvar URI = require(\"../uri\").URI;\r\n\t\r\n\t//RFC 2616\r\n\tURI.SCHEMES[\"http\"] = {\r\n\t\tserialize : function (components, options) {\r\n\t\t\t//normalize the default port\r\n\t\t\tif (components.port === 80 || components.port === \"\") {\r\n\t\t\t\tcomponents.port = undefined;\r\n\t\t\t}\r\n\t\t\t//normalize the empty path\r\n\t\t\tif (!components.path) {\r\n\t\t\t\tcomponents.path = \"/\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//NOTE: We do not parse query strings for HTTP URIs\r\n\t\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\r\n\t\t\t//and not the HTTP spec. \r\n\t\t\t\r\n\t\t\treturn components;\r\n\t\t}\r\n\t};\r\n}());\n},{\"../uri\":7}],6:[function(require,module,exports){\n(function () {\r\n\tvar URI_NS = require(\"../uri\"),\r\n\t\tURI = URI_NS.URI,\r\n\t\tpctEncChar = URI_NS.pctEncChar,\r\n\t\tNID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\",\r\n\t\tPCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\",\r\n\t\tTRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\",\r\n\t\tNSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\",\r\n\t\tURN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\"),\r\n\t\tURN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\"),\r\n\t\tURN_PARSE = /^([^\\:]+)\\:(.*)/,\r\n\t\tURN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g,\r\n\t\tUUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\r\n\t\r\n\t//RFC 2141\r\n\tURI.SCHEMES[\"urn\"] = {\r\n\t\tparse : function (components, options) {\r\n\t\t\tvar matches = components.path.match(URN_PATH),\r\n\t\t\t\tscheme, schemeHandler;\r\n\t\t\t\r\n\t\t\tif (!matches) {\r\n\t\t\t\tif (!options.tolerant) {\r\n\t\t\t\t\tcomponents.errors.push(\"URN is not strictly valid.\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tmatches = components.path.match(URN_PARSE);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (matches) {\r\n\t\t\t\tscheme = \"urn:\" + matches[1].toLowerCase();\r\n\t\t\t\tschemeHandler = URI.SCHEMES[scheme];\r\n\t\t\t\t\r\n\t\t\t\t//in order to serialize properly, \r\n\t\t\t\t//every URN must have a serializer that calls the URN serializer \r\n\t\t\t\tif (!schemeHandler) {\r\n\t\t\t\t\tschemeHandler = URI.SCHEMES[scheme] = {};\r\n\t\t\t\t}\r\n\t\t\t\tif (!schemeHandler.serialize) {\r\n\t\t\t\t\tschemeHandler.serialize = URI.SCHEMES[\"urn\"].serialize;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcomponents.scheme = scheme;\r\n\t\t\t\tcomponents.path = matches[2];\r\n\t\t\t\t\r\n\t\t\t\tif (schemeHandler.parse) {\r\n\t\t\t\t\tschemeHandler.parse(components, options);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcomponents.errors.push(\"URN can not be parsed.\");\r\n\t\t\t}\r\n\t\r\n\t\t\treturn components;\r\n\t\t},\r\n\t\t\r\n\t\tserialize : function (components, options) {\r\n\t\t\tvar scheme = components.scheme || options.scheme,\r\n\t\t\t\tmatches;\r\n\t\t\t\r\n\t\t\tif (scheme && scheme !== \"urn\") {\r\n\t\t\t\tvar matches = scheme.match(URN_SCHEME);\r\n\t\t\t\t\r\n\t\t\t\tif (!matches) {\r\n\t\t\t\t\tmatches = [\"urn:\" + scheme, scheme];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcomponents.scheme = \"urn\";\r\n\t\t\t\tcomponents.path = matches[1] + \":\" + (components.path ? components.path.replace(URN_EXCLUDED, pctEncChar) : \"\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn components;\r\n\t\t}\r\n\t};\r\n\t\r\n\t//RFC 4122\r\n\tURI.SCHEMES[\"urn:uuid\"] = {\r\n\t\tparse : function (components, options) {\r\n\t\t\tif (!options.tolerant && (!components.path || !components.path.match(UUID))) {\r\n\t\t\t\tcomponents.errors.push(\"UUID is not valid.\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tserialize : function (components, options) {\r\n\t\t\t//ensure UUID is valid\r\n\t\t\tif (!options.tolerant && (!components.path || !components.path.match(UUID))) {\r\n\t\t\t\t//invalid UUIDs can not have this scheme\r\n\t\t\t\tcomponents.scheme = undefined;\r\n\t\t\t} else {\r\n\t\t\t\t//normalize UUID\r\n\t\t\t\tcomponents.path = (components.path || \"\").toLowerCase();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn URI.SCHEMES[\"urn\"].serialize(components, options);\r\n\t\t}\r\n\t};\r\n}());\n},{\"../uri\":7}],7:[function(require,module,exports){\n/**\r\n * URI.js\r\n * \r\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\r\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\r\n * @version 1.4.2\r\n * @see http://github.com/garycourt/uri-js\r\n * @license URI.js v1.4.2 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js\r\n */\r\n\r\n/**\r\n * Copyright 2011 Gary Court. All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without modification, are\r\n * permitted provided that the following conditions are met:\r\n * \r\n *    1. Redistributions of source code must retain the above copyright notice, this list of\r\n *       conditions and the following disclaimer.\r\n * \r\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\r\n *       of conditions and the following disclaimer in the documentation and/or other materials\r\n *       provided with the distribution.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\r\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\r\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\r\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\r\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n * \r\n * The views and conclusions contained in the software and documentation are those of the\r\n * authors and should not be interpreted as representing official policies, either expressed\r\n * or implied, of Gary Court.\r\n */\r\n\r\n/*jslint white: true, sub: true, undef: true, newcap: true, plusplus: true, bitwise: true, regexp: true, nomen: true, indent: 4 */\r\n/*global exports:true, require:true, URI:true */\r\n\r\nif (typeof exports === \"undefined\") {\r\n\texports = {}; \r\n}\r\nif (typeof require !== \"function\") {\r\n\trequire = function (id) {\r\n\t\t\"use strict\";\r\n\t\treturn exports;\r\n\t};\r\n}\r\nURI = (function () {\r\n\t\"use strict\";\r\n\t\r\n\tvar\t\r\n\t\t/**\r\n\t\t * @param {...string} sets\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tmergeSet = function (sets) {\r\n\t\t\tvar set = sets,\r\n\t\t\t\tx = 1,\r\n\t\t\t\tnextSet = arguments[x];\r\n\t\t\t\r\n\t\t\twhile (nextSet) {\r\n\t\t\t\tset = set.slice(0, -1) + nextSet.slice(1);\r\n\t\t\t\tnextSet = arguments[++x];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn set;\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * @param {string} str\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tsubexp = function (str) {\r\n\t\t\treturn \"(?:\" + str + \")\";\r\n\t\t},\r\n\t\r\n\t\tALPHA$$ = \"[A-Za-z]\",\r\n\t\tCR$ = \"[\\\\x0D]\",\r\n\t\tDIGIT$$ = \"[0-9]\",\r\n\t\tDQUOTE$$ = \"[\\\\x22]\",\r\n\t\tHEXDIG$$ = mergeSet(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\r\n\t\tLF$$ = \"[\\\\x0A]\",\r\n\t\tSP$$ = \"[\\\\x20]\",\r\n\t\tPCT_ENCODED$ = subexp(\"%\" + HEXDIG$$ + HEXDIG$$),\r\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\r\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\r\n\t\tRESERVED$$ = mergeSet(GEN_DELIMS$$, SUB_DELIMS$$),\r\n\t\tUNRESERVED$$ = mergeSet(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\"),\r\n\t\tSCHEME$ = subexp(ALPHA$$ + mergeSet(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\r\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + mergeSet(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\r\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\r\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET$ + \"\\\\.\" + DEC_OCTET$ + \"\\\\.\" + DEC_OCTET$ + \"\\\\.\" + DEC_OCTET$),\r\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\r\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\r\n\t\tIPV6ADDRESS$ = subexp(mergeSet(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),  //FIXME\r\n\t\tIPVFUTURE$ = subexp(\"v\" + HEXDIG$$ + \"+\\\\.\" + mergeSet(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\r\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\r\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + mergeSet(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\r\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"|\" + REG_NAME$),\r\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\r\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\r\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + mergeSet(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\r\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\r\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\r\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + mergeSet(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\r\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\r\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\r\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\r\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\r\n\t\tPATH_EMPTY$ = subexp(\"\"),  //simplified\r\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\r\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\r\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\r\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\r\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\r\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\r\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\r\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\r\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\r\n\t\t\r\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\r\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\r\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\r\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\r\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\",\r\n\t\t\r\n\t\tURI_REF = new RegExp(\"(\" + GENERIC_REF$ + \")|(\" + RELATIVE_REF$ + \")\"),\r\n\t\tNOT_SCHEME = new RegExp(mergeSet(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\r\n\t\tNOT_USERINFO = new RegExp(mergeSet(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\r\n\t\tNOT_HOST = new RegExp(mergeSet(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\r\n\t\tNOT_PATH = new RegExp(mergeSet(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\r\n\t\tNOT_PATH_NOSCHEME = new RegExp(mergeSet(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\r\n\t\tNOT_QUERY = new RegExp(mergeSet(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\r\n\t\tNOT_FRAGMENT = NOT_QUERY,\r\n\t\tESCAPE = new RegExp(mergeSet(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\r\n\t\tUNRESERVED = new RegExp(UNRESERVED$$, \"g\"),\r\n\t\tOTHER_CHARS = new RegExp(mergeSet(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\r\n\t\tPCT_ENCODEDS = new RegExp(PCT_ENCODED$ + \"+\", \"g\"),\r\n\t\tURI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?([^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n)*))?/i,\r\n\t\tRDS1 = /^\\.\\.?\\//,\r\n\t\tRDS2 = /^\\/\\.(\\/|$)/,\r\n\t\tRDS3 = /^\\/\\.\\.(\\/|$)/,\r\n\t\tRDS4 = /^\\.\\.?$/,\r\n\t\tRDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/,\r\n\t\tNO_MATCH_IS_UNDEFINED = (\"\").match(/(){0}/)[1] === undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @param {string} chr\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tpctEncChar = function (chr) {\r\n\t\t\tvar c = chr.charCodeAt(0), e;\r\n \r\n\t\t\tif (c < 16) {\r\n\t\t\t\te = \"%0\" + c.toString(16).toUpperCase();\r\n\t\t\t}\r\n\t\t\telse if (c < 128) {\r\n\t\t\t\te = \"%\" + c.toString(16).toUpperCase();\r\n\t\t\t}\r\n\t\t\telse if (c < 2048) {\r\n\t\t\t\te = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\te = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn e;\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * @param {string} str\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tpctDecUnreserved = function (str) {\r\n\t\t\tvar newStr = \"\", \r\n\t\t\t\ti = 0,\r\n\t\t\t\tc, s;\r\n\t \r\n\t\t\twhile (i < str.length) {\r\n\t\t\t\tc = parseInt(str.substr(i + 1, 2), 16);\r\n\t \r\n\t\t\t\tif (c < 128) {\r\n\t\t\t\t\ts = String.fromCharCode(c);\r\n\t\t\t\t\tif (s.match(UNRESERVED)) {\r\n\t\t\t\t\t\tnewStr += s;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewStr += str.substr(i, 3);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti += 3;\r\n\t\t\t\t}\r\n\t\t\t\telse if ((c > 191) && (c < 224)) {\r\n\t\t\t\t\tnewStr += str.substr(i, 6);\r\n\t\t\t\t\ti += 6;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnewStr += str.substr(i, 9);\r\n\t\t\t\t\ti += 9;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t \r\n\t\t\treturn newStr;\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * @param {string} str\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\tpctDecChars = function (str) {\r\n\t\t\tvar newStr = \"\", \r\n\t\t\t\ti = 0,\r\n\t\t\t\tc, c2, c3;\r\n\t \r\n\t\t\twhile (i < str.length) {\r\n\t\t\t\tc = parseInt(str.substr(i + 1, 2), 16);\r\n\t \r\n\t\t\t\tif (c < 128) {\r\n\t\t\t\t\tnewStr += String.fromCharCode(c);\r\n\t\t\t\t\ti += 3;\r\n\t\t\t\t}\r\n\t\t\t\telse if ((c > 191) && (c < 224)) {\r\n\t\t\t\t\tc2 = parseInt(str.substr(i + 4, 2), 16);\r\n\t\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n\t\t\t\t\ti += 6;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tc2 = parseInt(str.substr(i + 4, 2), 16);\r\n\t\t\t\t\tc3 = parseInt(str.substr(i + 7, 2), 16);\r\n\t\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n\t\t\t\t\ti += 9;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t \r\n\t\t\treturn newStr;\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * @return {string}\r\n\t\t */\r\n\t\ttypeOf = function (o) {\r\n\t\t\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * @constructor\r\n\t\t * @implements URIComponents\r\n\t\t */\r\n\t\tComponents = function () {\r\n\t\t\tthis.errors = [];\r\n\t\t}, \r\n\t\t\r\n\t\t/** @namespace */ \r\n\t\tURI = exports;\r\n\t\r\n\t/**\r\n\t * Components\r\n\t */\r\n\t\r\n\tComponents.prototype = {\r\n\t\t/**\r\n\t\t * @type String\r\n\t\t */\r\n\t\t\r\n\t\tscheme : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type String\r\n\t\t */\r\n\t\t\r\n\t\tuserinfo : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type String\r\n\t\t */\r\n\t\t\r\n\t\thost : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type number\r\n\t\t */\r\n\t\t\r\n\t\tport : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type string\r\n\t\t */\r\n\t\t\r\n\t\tpath : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type string\r\n\t\t */\r\n\t\t\r\n\t\tquery : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type string\r\n\t\t */\r\n\t\t\r\n\t\tfragment : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type string\r\n\t\t * @values \"uri\", \"absolute\", \"relative\", \"same-document\"\r\n\t\t */\r\n\t\t\r\n\t\treference : undefined,\r\n\t\t\r\n\t\t/**\r\n\t\t * @type Array\r\n\t\t */\r\n\t\t\r\n\t\terrors : undefined\r\n\t};\r\n\t\r\n\t/**\r\n\t * URI\r\n\t */\r\n\t\r\n\t/**\r\n\t * @namespace\r\n\t */\r\n\t\r\n\tURI.SCHEMES = {};\r\n\t\r\n\t/**\r\n\t * @param {string} uriString\r\n\t * @param {Options} [options]\r\n\t * @returns {URIComponents}\r\n\t */\r\n\t\r\n\tURI.parse = function (uriString, options) {\r\n\t\tvar matches, \r\n\t\t\tcomponents = new Components(),\r\n\t\t\tschemeHandler;\r\n\t\t\r\n\t\turiString = uriString ? uriString.toString() : \"\";\r\n\t\toptions = options || {};\r\n\t\t\r\n\t\tif (options.reference === \"suffix\") {\r\n\t\t\turiString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\r\n\t\t}\r\n\t\t\r\n\t\tmatches = uriString.match(URI_REF);\r\n\t\t\r\n\t\tif (matches) {\r\n\t\t\tif (matches[1]) {\r\n\t\t\t\t//generic URI\r\n\t\t\t\tmatches = matches.slice(1, 10);\r\n\t\t\t} else {\r\n\t\t\t\t//relative URI\r\n\t\t\t\tmatches = matches.slice(10, 19);\r\n\t\t\t}\r\n\t\t} \r\n\t\t\r\n\t\tif (!matches) {\r\n\t\t\tif (!options.tolerant) {\r\n\t\t\t\tcomponents.errors.push(\"URI is not strictly valid.\");\r\n\t\t\t}\r\n\t\t\tmatches = uriString.match(URI_PARSE);\r\n\t\t}\r\n\t\t\r\n\t\tif (matches) {\r\n\t\t\tif (NO_MATCH_IS_UNDEFINED) {\r\n\t\t\t\t//store each component\r\n\t\t\t\tcomponents.scheme = matches[1];\r\n\t\t\t\t//components.authority = matches[2];\r\n\t\t\t\tcomponents.userinfo = matches[3];\r\n\t\t\t\tcomponents.host = matches[4];\r\n\t\t\t\tcomponents.port = parseInt(matches[5], 10);\r\n\t\t\t\tcomponents.path = matches[6] || \"\";\r\n\t\t\t\tcomponents.query = matches[7];\r\n\t\t\t\tcomponents.fragment = matches[8];\r\n\t\t\t\t\r\n\t\t\t\t//fix port number\r\n\t\t\t\tif (isNaN(components.port)) {\r\n\t\t\t\t\tcomponents.port = matches[5];\r\n\t\t\t\t}\r\n\t\t\t} else {  //IE FIX for improper RegExp matching\r\n\t\t\t\t//store each component\r\n\t\t\t\tcomponents.scheme = matches[1] || undefined;\r\n\t\t\t\t//components.authority = (uriString.indexOf(\"//\") !== -1 ? matches[2] : undefined);\r\n\t\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\r\n\t\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\r\n\t\t\t\tcomponents.port = parseInt(matches[5], 10);\r\n\t\t\t\tcomponents.path = matches[6] || \"\";\r\n\t\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\r\n\t\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\r\n\t\t\t\t\r\n\t\t\t\t//fix port number\r\n\t\t\t\tif (isNaN(components.port)) {\r\n\t\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//determine reference type\r\n\t\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && components.path === undefined && components.query === undefined) {\r\n\t\t\t\tcomponents.reference = \"same-document\";\r\n\t\t\t} else if (components.scheme === undefined) {\r\n\t\t\t\tcomponents.reference = \"relative\";\r\n\t\t\t} else if (components.fragment === undefined) {\r\n\t\t\t\tcomponents.reference = \"absolute\";\r\n\t\t\t} else {\r\n\t\t\t\tcomponents.reference = \"uri\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//check for reference errors\r\n\t\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\r\n\t\t\t\tcomponents.errors.push(\"URI is not a \" + options.reference + \" reference.\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//check if a handler for the scheme exists\r\n\t\t\tschemeHandler = URI.SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\r\n\t\t\tif (schemeHandler && schemeHandler.parse) {\r\n\t\t\t\t//perform extra parsing\r\n\t\t\t\tschemeHandler.parse(components, options);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcomponents.errors.push(\"URI can not be parsed.\");\r\n\t\t}\r\n\t\t\r\n\t\treturn components;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @private\r\n\t * @param {URIComponents} components\r\n\t * @returns {string|undefined}\r\n\t */\r\n\t\r\n\tURI._recomposeAuthority = function (components) {\r\n\t\tvar uriTokens = [];\r\n\t\t\r\n\t\tif (components.userinfo !== undefined) {\r\n\t\t\turiTokens.push(components.userinfo.toString().replace(NOT_USERINFO, pctEncChar));\r\n\t\t\turiTokens.push(\"@\");\r\n\t\t}\r\n\t\tif (components.host !== undefined) {\r\n\t\t\turiTokens.push(components.host.toString().toLowerCase().replace(NOT_HOST, pctEncChar));\r\n\t\t}\r\n\t\tif (typeof components.port === \"number\") {\r\n\t\t\turiTokens.push(\":\");\r\n\t\t\turiTokens.push(components.port.toString(10));\r\n\t\t}\r\n\t\t\r\n\t\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string} input\r\n\t * @returns {string}\r\n\t */\r\n\t\r\n\tURI.removeDotSegments = function (input) {\r\n\t\tvar output = [], s;\r\n\t\t\r\n\t\twhile (input.length) {\r\n\t\t\tif (input.match(RDS1)) {\r\n\t\t\t\tinput = input.replace(RDS1, \"\");\r\n\t\t\t} else if (input.match(RDS2)) {\r\n\t\t\t\tinput = input.replace(RDS2, \"/\");\r\n\t\t\t} else if (input.match(RDS3)) {\r\n\t\t\t\tinput = input.replace(RDS3, \"/\");\r\n\t\t\t\toutput.pop();\r\n\t\t\t} else if (input === \".\" || input === \"..\") {\r\n\t\t\t\tinput = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ts = input.match(RDS5)[0];\r\n\t\t\t\tinput = input.slice(s.length);\r\n\t\t\t\toutput.push(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn output.join(\"\");\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {URIComponents} components\r\n\t * @param {Options} [options]\r\n\t * @returns {string}\r\n\t */\r\n\t\r\n\tURI.serialize = function (components, options) {\r\n\t\tvar uriTokens = [], \r\n\t\t\tschemeHandler,\r\n\t\t\tauthority,\r\n\t\t\ts;\r\n\t\toptions = options || {};\r\n\t\t\r\n\t\t//check if a handler for the scheme exists\r\n\t\tschemeHandler = URI.SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\r\n\t\tif (schemeHandler && schemeHandler.serialize) {\r\n\t\t\t//perform extra serialization\r\n\t\t\tschemeHandler.serialize(components, options);\r\n\t\t}\r\n\t\t\r\n\t\tif (options.reference !== \"suffix\" && components.scheme) {\r\n\t\t\turiTokens.push(components.scheme.toString().toLowerCase().replace(NOT_SCHEME, \"\"));\r\n\t\t\turiTokens.push(\":\");\r\n\t\t}\r\n\t\t\r\n\t\tauthority = URI._recomposeAuthority(components);\r\n\t\tif (authority !== undefined) {\r\n\t\t\tif (options.reference !== \"suffix\") {\r\n\t\t\t\turiTokens.push(\"//\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\turiTokens.push(authority);\r\n\t\t\t\r\n\t\t\tif (components.path && components.path.charAt(0) !== \"/\") {\r\n\t\t\t\turiTokens.push(\"/\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (components.path !== undefined) {\r\n\t\t\ts = URI.removeDotSegments(components.path.toString().replace(/%2E/ig, \".\"));\r\n\t\t\t\r\n\t\t\tif (components.scheme) {\r\n\t\t\t\ts = s.replace(NOT_PATH, pctEncChar);\r\n\t\t\t} else {\r\n\t\t\t\ts = s.replace(NOT_PATH_NOSCHEME, pctEncChar);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (authority === undefined) {\r\n\t\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\r\n\t\t\t}\r\n\t\t\turiTokens.push(s);\r\n\t\t}\r\n\t\t\r\n\t\tif (components.query !== undefined) {\r\n\t\t\turiTokens.push(\"?\");\r\n\t\t\turiTokens.push(components.query.toString().replace(NOT_QUERY, pctEncChar));\r\n\t\t}\r\n\t\t\r\n\t\tif (components.fragment !== undefined) {\r\n\t\t\turiTokens.push(\"#\");\r\n\t\t\turiTokens.push(components.fragment.toString().replace(NOT_FRAGMENT, pctEncChar));\r\n\t\t}\r\n\t\t\r\n\t\treturn uriTokens\r\n\t\t\t.join('')  //merge tokens into a string\r\n\t\t\t.replace(PCT_ENCODEDS, pctDecUnreserved)  //undecode unreserved characters\r\n\t\t\t//.replace(OTHER_CHARS, pctEncChar)  //replace non-URI characters\r\n\t\t\t.replace(/%[0-9A-Fa-f]{2}/g, function (str) {  //uppercase percent encoded characters\r\n\t\t\t\treturn str.toUpperCase();\r\n\t\t\t})\r\n\t\t;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {URIComponents} base\r\n\t * @param {URIComponents} relative\r\n\t * @param {Options} [options]\r\n\t * @param {boolean} [skipNormalization]\r\n\t * @returns {URIComponents}\r\n\t */\r\n\t\r\n\tURI.resolveComponents = function (base, relative, options, skipNormalization) {\r\n\t\tvar target = new Components();\r\n\t\t\r\n\t\tif (!skipNormalization) {\r\n\t\t\tbase = URI.parse(URI.serialize(base, options), options);  //normalize base components\r\n\t\t\trelative = URI.parse(URI.serialize(relative, options), options);  //normalize relative components\r\n\t\t}\r\n\t\toptions = options || {};\r\n\t\t\r\n\t\tif (!options.tolerant && relative.scheme) {\r\n\t\t\ttarget.scheme = relative.scheme;\r\n\t\t\t//target.authority = relative.authority;\r\n\t\t\ttarget.userinfo = relative.userinfo;\r\n\t\t\ttarget.host = relative.host;\r\n\t\t\ttarget.port = relative.port;\r\n\t\t\ttarget.path = URI.removeDotSegments(relative.path);\r\n\t\t\ttarget.query = relative.query;\r\n\t\t} else {\r\n\t\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\r\n\t\t\t\t//target.authority = relative.authority;\r\n\t\t\t\ttarget.userinfo = relative.userinfo;\r\n\t\t\t\ttarget.host = relative.host;\r\n\t\t\t\ttarget.port = relative.port;\r\n\t\t\t\ttarget.path = URI.removeDotSegments(relative.path);\r\n\t\t\t\ttarget.query = relative.query;\r\n\t\t\t} else {\r\n\t\t\t\tif (!relative.path) {\r\n\t\t\t\t\ttarget.path = base.path;\r\n\t\t\t\t\tif (relative.query !== undefined) {\r\n\t\t\t\t\t\ttarget.query = relative.query;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget.query = base.query;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (relative.path.charAt(0) === \"/\") {\r\n\t\t\t\t\t\ttarget.path = URI.removeDotSegments(relative.path);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\r\n\t\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\r\n\t\t\t\t\t\t} else if (!base.path) {\r\n\t\t\t\t\t\t\ttarget.path = relative.path;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget.path = URI.removeDotSegments(target.path);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget.query = relative.query;\r\n\t\t\t\t}\r\n\t\t\t\t//target.authority = base.authority;\r\n\t\t\t\ttarget.userinfo = base.userinfo;\r\n\t\t\t\ttarget.host = base.host;\r\n\t\t\t\ttarget.port = base.port;\r\n\t\t\t}\r\n\t\t\ttarget.scheme = base.scheme;\r\n\t\t}\r\n\t\t\r\n\t\ttarget.fragment = relative.fragment;\r\n\t\t\r\n\t\treturn target;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string} baseURI\r\n\t * @param {string} relativeURI\r\n\t * @param {Options} [options]\r\n\t * @returns {string}\r\n\t */\r\n\t\r\n\tURI.resolve = function (baseURI, relativeURI, options) {\r\n\t\treturn URI.serialize(URI.resolveComponents(URI.parse(baseURI, options), URI.parse(relativeURI, options), options, true), options);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string|URIComponents} uri\r\n\t * @param {Options} options\r\n\t * @returns {string|URIComponents}\r\n\t */\r\n\t\r\n\tURI.normalize = function (uri, options) {\r\n\t\tif (typeof uri === \"string\") {\r\n\t\t\turi = URI.serialize(URI.parse(uri, options), options);\r\n\t\t} else if (typeOf(uri) === \"object\") {\r\n\t\t\turi = URI.parse(URI.serialize(uri, options), options);\r\n\t\t}\r\n\t\t\r\n\t\treturn uri;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string|URIComponents} uriA\r\n\t * @param {string|URIComponents} uriB\r\n\t * @param {Options} options\r\n\t */\r\n\t\r\n\tURI.equal = function (uriA, uriB, options) {\r\n\t\tif (typeof uriA === \"string\") {\r\n\t\t\turiA = URI.serialize(URI.parse(uriA, options), options);\r\n\t\t} else if (typeOf(uriA) === \"object\") {\r\n\t\t\turiA = URI.serialize(uriA, options);\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof uriB === \"string\") {\r\n\t\t\turiB = URI.serialize(URI.parse(uriB, options), options);\r\n\t\t} else if (typeOf(uriB) === \"object\") {\r\n\t\t\turiB = URI.serialize(uriB, options);\r\n\t\t}\r\n\t\t\r\n\t\treturn uriA === uriB;\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string} str\r\n\t * @returns {string}\r\n\t */\r\n\t\r\n\tURI.escapeComponent = function (str) {\r\n\t\treturn str && str.toString().replace(ESCAPE, pctEncChar);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @param {string} str\r\n\t * @returns {string}\r\n\t */\r\n\t\r\n\tURI.unescapeComponent = function (str) {\r\n\t\treturn str && str.toString().replace(PCT_ENCODEDS, pctDecChars);\r\n\t};\r\n\t\r\n\t//export API\r\n\texports.pctEncChar = pctEncChar;\r\n\texports.pctDecChars = pctDecChars;\r\n\texports.Components = Components;\r\n\texports.URI = URI;\r\n\t\r\n\t//name-safe export API\r\n\texports[\"pctEncChar\"] = pctEncChar;\r\n\texports[\"pctDecChars\"] = pctDecChars;\r\n\texports[\"Components\"] = Components;\r\n\texports[\"URI\"] = {\r\n\t\t\"SCHEMES\" : URI.SCHEMES,\r\n\t\t\"parse\" : URI.parse,\r\n\t\t\"removeDotSegments\" : URI.removeDotSegments,\r\n\t\t\"serialize\" : URI.serialize,\r\n\t\t\"resolveComponents\" : URI.resolveComponents,\r\n\t\t\"resolve\" : URI.resolve,\r\n\t\t\"normalize\" : URI.normalize,\r\n\t\t\"equal\" : URI.equal,\r\n\t\t\"escapeComponent\" : URI.escapeComponent,\r\n\t\t\"unescapeComponent\" : URI.unescapeComponent\r\n\t};\r\n\t\r\n\t//load all schemes\r\n\trequire(\"./schemes\");\r\n\t\r\n\treturn URI;\r\n}());\n},{\"./schemes\":4}],8:[function(require,module,exports){\nvar _global = (function() { return this; })();\nvar nativeWebSocket = _global.WebSocket || _global.MozWebSocket;\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new nativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new nativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\n\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : nativeWebSocket ? W3CWebSocket : null,\n    'version'      : require('./version')\n};\n\n},{\"./version\":9}],9:[function(require,module,exports){\nmodule.exports = require('../package.json').version;\n\n},{\"../package.json\":10}],10:[function(require,module,exports){\nmodule.exports={\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": {\n    \"name\": \"Brian McKelvey\",\n    \"email\": \"brian@worlize.com\",\n    \"url\": \"https://www.worlize.com/\"\n  },\n  \"version\": \"1.0.18\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=0.8.0\"\n  },\n  \"dependencies\": {\n    \"debug\": \"~2.1.0\",\n    \"nan\": \"~1.0.0\",\n    \"typedarray-to-buffer\": \"~3.0.0\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"0.0.1\",\n    \"faucet\": \"0.0.1\",\n    \"gulp\": \"git+https://github.com/gulpjs/gulp.git#4.0\",\n    \"gulp-jshint\": \"^1.9.0\",\n    \"jshint-stylish\": \"^1.0.0\",\n    \"tape\": \"^3.0.0\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"install\": \"(node-gyp rebuild 2> builderror.log) || (exit 0)\",\n    \"test\": \"faucet test/unit\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"gitHead\": \"2888a6d8c6ea0211b429000d43ed5da76124733f\",\n  \"bugs\": {\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node/issues\"\n  },\n  \"_id\": \"websocket@1.0.18\",\n  \"_shasum\": \"140280dcc90ed42caa7a701e182a8c9e2dec75ef\",\n  \"_from\": \"websocket@>=1.0.18 <2.0.0\",\n  \"_npmVersion\": \"2.6.1\",\n  \"_nodeVersion\": \"1.4.3\",\n  \"_npmUser\": {\n    \"name\": \"theturtle32\",\n    \"email\": \"brian@worlize.com\"\n  },\n  \"maintainers\": [\n    {\n      \"name\": \"theturtle32\",\n      \"email\": \"brian@worlize.com\"\n    }\n  ],\n  \"dist\": {\n    \"shasum\": \"140280dcc90ed42caa7a701e182a8c9e2dec75ef\",\n    \"tarball\": \"http://registry.npmjs.org/websocket/-/websocket-1.0.18.tgz\"\n  },\n  \"_resolved\": \"https://registry.npmjs.org/websocket/-/websocket-1.0.18.tgz\",\n  \"readme\": \"ERROR: No README data found!\"\n}\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}